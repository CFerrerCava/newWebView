<html style="height: auto; min-height: 100%;">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        MÃ“VIL PASAJES
    </title>
    <link rel="icon" href="https://www.linea.pe/imagenes/favicon.ico" type="image/ico">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&amp;display=swap"
        rel="stylesheet">
    <link href="https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css" rel="stylesheet">
    <style>
        ::-webkit-scrollbar {
            -webkit-appearance: none;
        }

        ::-webkit-scrollbar:vertical {
            width: 5px;
        }

        ::-webkit-scrollbar-button:increment,
        ::-webkit-scrollbar-button {
            display: none;
        }

        ::-webkit-scrollbar:horizontal {
            height: 5px;
        }

        ::-webkit-scrollbar-thumb {
            background-color: #aba4a4;
            border-radius: 10px;
            /*border: 3px solid #f1f2f3;*/
        }

        ::-webkit-scrollbar-track {
            border-radius: 10px;
        }

        .panel {
            webkit-box-shadow: 0 1px 1px transparent !important;
            box-shadow: 0 1px 1px transparent !important;
        }

        .content-wrapper {
            padding-top: 0px !important;
        }

        .modal-body-max-height {
            overflow-y: auto;
            overflow-x: hidden;
        }

        .fixed-action-zoom_controls_pdf {
            left: 45%;
            position: fixed;
            z-index: 1030;
        }

        .fa-Calificanos {
            font-size: 3.5em !important;
        }

        label {
            font-weight: normal !important;
        }

        .nav-sub-cab>li,
        .nav-sub-cab>li>a {
            font-weight: normal !important;
        }

        /*.toggle.btn-danger, .toggle.btn-primary, .toggle.btn-success, .toggle.btn-default,
        .toggle-group > .btn-danger, .toggle-group > .btn-primary, .toggle-group > .btn-success {
            padding: unset !important;
        }
        .btn-group-xs > .btn, .btn-xs {
            padding: 1px 5px !important;
        }*/
        .btn-primary-toggle {
            color: #fff !important;
            background-color: #428bca;
            border-color: #357ebd;
        }

        .btn-info-toggle {
            color: #fff !important;
            background-color: #5bc0de;
            border-color: #46b8da;
        }

        .btn-success-toggle {
            color: #fff !important;
            background-color: #449d44;
            border-color: #398439;
        }

        .btn-warning-toggle {
            color: #fff !important;
            background-color: #ec971f;
            border-color: #d58512;
        }

        .btn-danger-toggle {
            color: #fff !important;
            background-color: #c9302c;
            border-color: #ac2925;
        }

        .btn-default-toggle {
            color: #333 !important;
            background-color: #ccc;
            border-color: #ccc;
        }

        .btn-primary-toggle:hover,
        .btn-default-toggle:hover {
            /*background-color: #367fa9;*/
            opacity: .9;
        }

        .btn-danger {
            background-color: #990d0d !important;
        }

        .footable-row-detail-row {
            line-height: 2.0em !important;
        }

        .btnProgressSig {
            margin-bottom: 0px !important;
            border-radius: 3px !important;
        }

        .btnProgress .progress-bar {
            text-transform: none !important;
        }

        .btnProgressSig .progress-bar {
            text-transform: none !important;
        }

        @media (max-height: 400px) {
            .modal-body-max-height {
                max-height: 280px !important;
            }
        }

        @media (min-height: 450px) {
            .modal-body-max-height {
                max-height: 320px !important;
            }
        }

        @media (min-height: 490px) {
            .modal-body-max-height {
                max-height: 350px;
            }
        }

        @media (min-height: 600px) and (max-height: 899px) {
            .modal-body-max-height {
                max-height: 460px !important;
            }
        }

        @media (min-height: 900px) and (max-height: 1200px) {
            .modal-body-max-height {
                max-height: 760px !important;
            }
        }

        @media (min-width: 992px) {
            .modal-lg {
                width: 900px !important;
            }
        }

        @media(max-width: 768px) {
            .btn {
                font-size: 13px !important;
            }

            .btn_sig_fixed {
                position: fixed !important;
                bottom: 0px;
                right: 0px;
                background: white;
                padding: 8px 10px;
                z-index: 9;
                padding-bottom: 20px;
            }

            .form-group {
                margin-right: 0px !important;
            }
        }

        @media (max-width:1024px) {
            .display_blocks_none_bottom {
                margin-bottom: 200px;
            }
        }

        @media (max-width: 320px) {
            .btn_witdh_Prog {
                width: 120px !important;
            }
        }

        .legend_fs {
            font-size: 14px;
            font-weight: 700;
        }

        .btn_witdh_Prog {
            width: 130px;
        }
    </style>

    <style type="text/css" id="notify-bootstrap">
        .notifyjs-bootstrap-base {
            font-weight: bold;
            padding: 8px 15px 8px 14px;
            text-shadow: 0 1px 0 rgba(255, 255, 255, 0.5);
            background-color: #fcf8e3;
            border: 1px solid #fbeed5;
            -webkit-border-radius: 4px;
            -moz-border-radius: 4px;
            border-radius: 4px;
            white-space: nowrap;
            padding-left: 25px;
            background-repeat: no-repeat;
            background-position: 3px 7px;
        }

        .notifyjs-bootstrap-error {
            color: #B94A48;
            background-color: #F2DEDE;
            border-color: #EED3D7;
            background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAtRJREFUeNqkVc1u00AQHq+dOD+0poIQfkIjalW0SEGqRMuRnHos3DjwAH0ArlyQeANOOSMeAA5VjyBxKBQhgSpVUKKQNGloFdw4cWw2jtfMOna6JOUArDTazXi/b3dm55socPqQhFka++aHBsI8GsopRJERNFlY88FCEk9Yiwf8RhgRyaHFQpPHCDmZG5oX2ui2yilkcTT1AcDsbYC1NMAyOi7zTX2Agx7A9luAl88BauiiQ/cJaZQfIpAlngDcvZZMrl8vFPK5+XktrWlx3/ehZ5r9+t6e+WVnp1pxnNIjgBe4/6dAysQc8dsmHwPcW9C0h3fW1hans1ltwJhy0GxK7XZbUlMp5Ww2eyan6+ft/f2FAqXGK4CvQk5HueFz7D6GOZtIrK+srupdx1GRBBqNBtzc2AiMr7nPplRdKhb1q6q6zjFhrklEFOUutoQ50xcX86ZlqaZpQrfbBdu2R6/G19zX6XSgh6RX5ubyHCM8nqSID6ICrGiZjGYYxojEsiw4PDwMSL5VKsC8Yf4VRYFzMzMaxwjlJSlCyAQ9l0CW44PBADzXhe7xMdi9HtTrdYjFYkDQL0cn4Xdq2/EAE+InCnvADTf2eah4Sx9vExQjkqXT6aAERICMewd/UAp/IeYANM2joxt+q5VI+ieq2i0Wg3l6DNzHwTERPgo1ko7XBXj3vdlsT2F+UuhIhYkp7u7CarkcrFOCtR3H5JiwbAIeImjT/YQKKBtGjRFCU5IUgFRe7fF4cCNVIPMYo3VKqxwjyNAXNepuopyqnld602qVsfRpEkkz+GFL1wPj6ySXBpJtWVa5xlhpcyhBNwpZHmtX8AGgfIExo0ZpzkWVTBGiXCSEaHh62/PoR0p/vHaczxXGnj4bSo+G78lELU80h1uogBwWLf5YlsPmgDEd4M236xjm+8nm4IuE/9u+/PH2JXZfbwz4zw1WbO+SQPpXfwG/BBgAhCNZiSb/pOQAAAAASUVORK5CYII=);
        }

        .notifyjs-bootstrap-success {
            color: #468847;
            background-color: #DFF0D8;
            border-color: #D6E9C6;
            background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAutJREFUeNq0lctPE0Ecx38zu/RFS1EryqtgJFA08YCiMZIAQQ4eRG8eDGdPJiYeTIwHTfwPiAcvXIwXLwoXPaDxkWgQ6islKlJLSQWLUraPLTv7Gme32zoF9KSTfLO7v53vZ3d/M7/fIth+IO6INt2jjoA7bjHCJoAlzCRw59YwHYjBnfMPqAKWQYKjGkfCJqAF0xwZjipQtA3MxeSG87VhOOYegVrUCy7UZM9S6TLIdAamySTclZdYhFhRHloGYg7mgZv1Zzztvgud7V1tbQ2twYA34LJmF4p5dXF1KTufnE+SxeJtuCZNsLDCQU0+RyKTF27Unw101l8e6hns3u0PBalORVVVkcaEKBJDgV3+cGM4tKKmI+ohlIGnygKX00rSBfszz/n2uXv81wd6+rt1orsZCHRdr1Imk2F2Kob3hutSxW8thsd8AXNaln9D7CTfA6O+0UgkMuwVvEFFUbbAcrkcTA8+AtOk8E6KiQiDmMFSDqZItAzEVQviRkdDdaFgPp8HSZKAEAL5Qh7Sq2lIJBJwv2scUqkUnKoZgNhcDKhKg5aH+1IkcouCAdFGAQsuWZYhOjwFHQ96oagWgRoUov1T9kRBEODAwxM2QtEUl+Wp+Ln9VRo6BcMw4ErHRYjH4/B26AlQoQQTRdHWwcd9AH57+UAXddvDD37DmrBBV34WfqiXPl61g+vr6xA9zsGeM9gOdsNXkgpEtTwVvwOklXLKm6+/p5ezwk4B+j6droBs2CsGa/gNs6RIxazl4Tc25mpTgw/apPR1LYlNRFAzgsOxkyXYLIM1V8NMwyAkJSctD1eGVKiq5wWjSPdjmeTkiKvVW4f2YPHWl3GAVq6ymcyCTgovM3FzyRiDe2TaKcEKsLpJvNHjZgPNqEtyi6mZIm4SRFyLMUsONSSdkPeFtY1n0mczoY3BHTLhwPRy9/lzcziCw9ACI+yql0VLzcGAZbYSM5CCSZg1/9oc/nn7+i8N9p/8An4JMADxhH+xHfuiKwAAAABJRU5ErkJggg==);
        }

        .notifyjs-bootstrap-info {
            color: #3A87AD;
            background-color: #D9EDF7;
            border-color: #BCE8F1;
            background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QYFAhkSsdes/QAAA8dJREFUOMvVlGtMW2UYx//POaWHXg6lLaW0ypAtw1UCgbniNOLcVOLmAjHZolOYlxmTGXVZdAnRfXQm+7SoU4mXaOaiZsEpC9FkiQs6Z6bdCnNYruM6KNBw6YWewzl9z+sHImEWv+vz7XmT95f/+3/+7wP814v+efDOV3/SoX3lHAA+6ODeUFfMfjOWMADgdk+eEKz0pF7aQdMAcOKLLjrcVMVX3xdWN29/GhYP7SvnP0cWfS8caSkfHZsPE9Fgnt02JNutQ0QYHB2dDz9/pKX8QjjuO9xUxd/66HdxTeCHZ3rojQObGQBcuNjfplkD3b19Y/6MrimSaKgSMmpGU5WevmE/swa6Oy73tQHA0Rdr2Mmv/6A1n9w9suQ7097Z9lM4FlTgTDrzZTu4StXVfpiI48rVcUDM5cmEksrFnHxfpTtU/3BFQzCQF/2bYVoNbH7zmItbSoMj40JSzmMyX5qDvriA7QdrIIpA+3cdsMpu0nXI8cV0MtKXCPZev+gCEM1S2NHPvWfP/hL+7FSr3+0p5RBEyhEN5JCKYr8XnASMT0xBNyzQGQeI8fjsGD39RMPk7se2bd5ZtTyoFYXftF6y37gx7NeUtJJOTFlAHDZLDuILU3j3+H5oOrD3yWbIztugaAzgnBKJuBLpGfQrS8wO4FZgV+c1IxaLgWVU0tMLEETCos4xMzEIv9cJXQcyagIwigDGwJgOAtHAwAhisQUjy0ORGERiELgG4iakkzo4MYAxcM5hAMi1WWG1yYCJIcMUaBkVRLdGeSU2995TLWzcUAzONJ7J6FBVBYIggMzmFbvdBV44Corg8vjhzC+EJEl8U1kJtgYrhCzgc/vvTwXKSib1paRFVRVORDAJAsw5FuTaJEhWM2SHB3mOAlhkNxwuLzeJsGwqWzf5TFNdKgtY5qHp6ZFf67Y/sAVadCaVY5YACDDb3Oi4NIjLnWMw2QthCBIsVhsUTU9tvXsjeq9+X1d75/KEs4LNOfcdf/+HthMnvwxOD0wmHaXr7ZItn2wuH2SnBzbZAbPJwpPx+VQuzcm7dgRCB57a1uBzUDRL4bfnI0RE0eaXd9W89mpjqHZnUI5Hh2l2dkZZUhOqpi2qSmpOmZ64Tuu9qlz/SEXo6MEHa3wOip46F1n7633eekV8ds8Wxjn37Wl63VVa+ej5oeEZ/82ZBETJjpJ1Rbij2D3Z/1trXUvLsblCK0XfOx0SX2kMsn9dX+d+7Kf6h8o4AIykuffjT8L20LU+w4AZd5VvEPY+XpWqLV327HR7DzXuDnD8r+ovkBehJ8i+y8YAAAAASUVORK5CYII=);
        }

        .notifyjs-bootstrap-warn {
            color: #C09853;
            background-color: #FCF8E3;
            border-color: #FBEED5;
            background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAABJlBMVEXr6eb/2oD/wi7/xjr/0mP/ykf/tQD/vBj/3o7/uQ//vyL/twebhgD/4pzX1K3z8e349vK6tHCilCWbiQymn0jGworr6dXQza3HxcKkn1vWvV/5uRfk4dXZ1bD18+/52YebiAmyr5S9mhCzrWq5t6ufjRH54aLs0oS+qD751XqPhAybhwXsujG3sm+Zk0PTwG6Shg+PhhObhwOPgQL4zV2nlyrf27uLfgCPhRHu7OmLgAafkyiWkD3l49ibiAfTs0C+lgCniwD4sgDJxqOilzDWowWFfAH08uebig6qpFHBvH/aw26FfQTQzsvy8OyEfz20r3jAvaKbhgG9q0nc2LbZxXanoUu/u5WSggCtp1anpJKdmFz/zlX/1nGJiYmuq5Dx7+sAAADoPUZSAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfdBgUBGhh4aah5AAAAlklEQVQY02NgoBIIE8EUcwn1FkIXM1Tj5dDUQhPU502Mi7XXQxGz5uVIjGOJUUUW81HnYEyMi2HVcUOICQZzMMYmxrEyMylJwgUt5BljWRLjmJm4pI1hYp5SQLGYxDgmLnZOVxuooClIDKgXKMbN5ggV1ACLJcaBxNgcoiGCBiZwdWxOETBDrTyEFey0jYJ4eHjMGWgEAIpRFRCUt08qAAAAAElFTkSuQmCC);
        }
    </style>
    <style type="text/css" id="notify-metro">
        .notifyjs-metro-default {
            color: #fafafa !important;
            background-color: #ABB7B7;
            border: 1px solid #ABB7B7;
        }

        .notifyjs-metro-error {
            color: #fafafa !important;
            background-color: rgba(203, 42, 42, 0.8);
            border: 1px solid #cb2a2a;
        }

        .notifyjs-metro-success {
            color: #fafafa !important;
            background-color: rgba(51, 184, 108, 0.8);
            border: 1px solid #33b86c;
        }

        .notifyjs-metro-info {
            color: #fafafa !important;
            background-color: rgba(28, 168, 221, 0.8);
            border: 1px solid #1ca8dd;
        }

        .notifyjs-metro-warning {
            color: #fafafa !important;
            background-color: rgba(235, 193, 66, 0.8);
            border: 1px solid #ebc142;
        }

        .notifyjs-metro-black {
            color: #fafafa !important;
            background-color: rgba(20, 8, 45, 0.8);
            border: 1px solid #14082d;
        }

        .notifyjs-metro-white {
            background-color: #e6eaed;
            border: 1px solid #ddd;
        }
    </style>
    <style type="text/css" id="core-notify">
        .notifyjs-corner {
            position: fixed;
            margin: 5px;
            z-index: 1050;
        }

        .notifyjs-corner .notifyjs-wrapper,
        .notifyjs-corner .notifyjs-container {
            position: relative;
            display: block;
            height: inherit;
            width: inherit;
            margin: 3px;
        }

        .notifyjs-wrapper {
            z-index: 1;
            position: absolute;
            display: inline-block;
            height: 0;
            width: 0;
        }

        .notifyjs-container {
            display: none;
            z-index: 1;
            position: absolute;
            cursor: pointer;
        }

        [data-notify-text],
        [data-notify-html] {
            position: relative;
        }

        .notifyjs-arrow {
            position: absolute;
            z-index: 2;
            width: 0;
            height: 0;
        }
    </style>
</head>

<body class="skin-red-light sidebar-mini fixed sidebar-collapse display_blocks_none_bottom sidebar-mini-expand-feature"
    style="height: auto; min-height: 100%;">
    <!-- Bootstrap -->
    <link rel="stylesheet"
        href="http://localhost:62960/assets/bower_components/bootstrap/dist/css/bootstrap.min.css?v=0.0.0.001">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="http://localhost:62960/assets/bower_components/font-awesome/css/font-awesome.min.css">
    <!-- Ionicons -->
    <link rel="stylesheet" href="http://localhost:62960/assets/bower_components/Ionicons/css/ionicons.min.css">
    <!-- Theme style -->
    <link rel="stylesheet" href="http://localhost:62960/assets/dist/css/AdminLTE.min.css">
    <!-- AdminLTE Skins. Choose a skin from the css/skins folder instead of downloading all of them to reduce the load. -->
    <link rel="stylesheet" href="http://localhost:62960/assets/dist/css/skins/_all-skins.min.css?v=0.0.0.001">
    <!-- Date Picker -->
    <link rel="stylesheet"
        href="http://localhost:62960/assets/bower_components/bootstrap-datepicker/dist/css/bootstrap-datepicker.min.css">
    <!-- Bootstrap time Picker -->
    <link rel="stylesheet" href="http://localhost:62960/assets/plugins/timepicker/bootstrap-timepicker.min.css">
    <!-- Bootstrap Datetime Picker -->
    <link
        href="http://localhost:62960/assets/bower_components/bootstrap-datetimepicker/css/bootstrap-datetimepicker.css"
        rel="stylesheet">
    <!-- daterange picker -->
    <link rel="stylesheet"
        href="http://localhost:62960/assets/bower_components/bootstrap-daterangepicker/daterangepicker.css">
    <!-- bootstrap wysihtml5 - text editor -->

    <!-- Switchery -->

    <link href="http://localhost:62960/assets/toggle/toggle.min.css?v=0.0.0.1" rel="stylesheet">
    <!-- Notification -->
    <link href="http://localhost:62960/assets/bower_components/notifications/notification.css?v=0.0.0.1"
        rel="stylesheet">
    <!-- sweet alerts -->
    <link href="http://localhost:62960/assets/bower_components/sweet-alert/sweet-alert.min.css?v=0.0.0.001"
        rel="stylesheet">
    <!-- iCheck -->
    <link href="http://localhost:62960/assets/plugins/iCheck/all.css?v=0.0.0.1" rel="stylesheet">
    <!-- Select 2 -->
    <link href="http://localhost:62960/assets/bower_components/select2/dist/css/select2.min.css?v=0.0.0.1"
        rel="stylesheet">

    <!-- DataTables -->
    <link rel="stylesheet"
        href="http://localhost:62960/assets/bower_components/datatables.net-bs/css/dataTables.bootstrap.min.css">
    <!-- DataTables Responsive-->
    <link href="http://localhost:62960/assets/dataTables-responsive/css/responsive.dataTables.min.css" rel="stylesheet">
    <!-- footable -->
    <link href="http://localhost:62960/assets/footable/css/footable.core.min.css?v=0.0.01" rel="stylesheet" media="all">
    <!-- Google Font -->
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,300italic,400italic,600italic">

    <!-- Estilos extras-->
    <link href="http://localhost:62960/css/styles.css?v=0.0.0.0007" rel="stylesheet">
    <link href="http://localhost:62960/css/styles_responsive.css?v=0.0.0.001" rel="stylesheet">
    <link href="http://localhost:62960/css/check_radio.css?v=0.0.0.001" rel="stylesheet">
    <link href="http://localhost:62960/css/toolTip.css?v=0.0.0.1" rel="stylesheet">
    <link href="http://localhost:62960/css/style_2.css" rel="stylesheet">
    <link href="http://localhost:62960/css/formStyle.css" rel="stylesheet">
    <!-- Iconos extras -->
    <link rel="stylesheet" href="http://localhost:62960/css/icofont/css/icofont.css?v=0.0.0.1">

    <!-- JS Incluides -->
    <!-- jQuery 3 -->
    <script src="http://localhost:62960/assets/bower_components/jquery/dist/jquery.min.js"></script>
    <!-- jQuery UI 1.11.4 -->
    <script src="http://localhost:62960/assets/bower_components/jquery-ui/jquery-ui.min.js"></script>
    <!-- Bootstrap -->
    <script src="http://localhost:62960/assets/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>

    <script>
        var carpeta_ec = "ecommerce/";
    </script>

    <div class="wrapper" style="height: auto; min-height: 100%;">

        <header class="main-header hidden" style="">
            <!-- Logo -->

            <a href="javascript:void(0)" class="logo hidden-xs" data-href="">
                <!-- mini logo for sidebar mini 50x50 pixels -->
                <span class="logo-mini">
                    <img src="http://localhost:62960/imagenes/logo2.png" title="Transportes Linea">
                </span>

                <!-- logo for regular state and mobile devices -->
                <span class="logo-lg">
                    <img src="http://localhost:62960/imagenes/logo_blanco.png" title="Transportes Linea"
                        style="width: 120px">
                </span>
            </a>
            <!-- Header Navbar: style can be found in header.less -->
            <nav class="navbar navbar-static-top">
                <!-- Sidebar toggle button-->
                <a href="#" class="sidebar-toggle hidden-xs" data-toggle="push-menu" role="button">
                    <span class="sr-only">Toggle navigation</span>
                </a>

                <div class="navbar-custom-menu">
                    <ul class="nav navbar-nav">



                        <!-- User Account -->
                        <li class="dropdown user user-menu">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                <img src="http://localhost:62960/assets/dist/img/user.png" class="user-image"
                                    alt="User Image">
                                <span class="hidden-xs"></span>
                            </a>
                        </li>

                    </ul>
                </div>
            </nav>
        </header>
        <!-- menu principal -->
        <aside class="main-sidebar" hidden="">
            <div class="slimScrollDiv" style="position: relative; overflow: hidden; width: auto; height: 574px;">
                <section class="sidebar" style="overflow: hidden; width: auto; height: 574px;">
                    <ul class="sidebar-menu tree" data-widget="tree">
                        <li class="header">MENÃš PRINCIPAL</li>
                    </ul>
                </section>
                <div class="slimScrollBar"
                    style="background: rgb(0, 0, 0); width: 7px; position: absolute; top: 0px; opacity: 0.4; display: block; border-radius: 7px; z-index: 99; right: 1px;">
                </div>
                <div class="slimScrollRail"
                    style="width: 7px; height: 100%; position: absolute; top: 0px; display: none; border-radius: 7px; background: rgb(51, 51, 51); opacity: 0.2; z-index: 90; right: 1px;">
                </div>
            </div>

        </aside>
        <!-- fin menu principal -->

        <!-- Contenido -->
        <div class="content-wrapper" style="background-color: white; margin-left: 0px !important; min-height: 574px;">
            <!-- Main content -->
            <div id="imgModal" style="background-color: transparent; display: none;">


                <i class="fa fa-circle-o-notch fa-spin color_blue" style="font-size: 100px; margin-top: 150px;"></i>

            </div>

            <meta charset="UTF-8">
            <meta http-equiv="X-UA-Compatible" content="IE=edge">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <link rel="preconnect" href="https://fonts.googleapis.com">
            <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
            <link
                href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&amp;display=swap"
                rel="stylesheet">
            <link href="https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css" rel="stylesheet">
            <link href="/css/formStyle.css" rel="stylesheet">
            <!--Itinerario css-->
            <link rel="stylesheet" href="../assets/ECommerce/css/itinerario.css?v0.1">
            <!--Theme Responsive css-->
            <link rel="stylesheet" href="../assets/ECommerce/css/responsive_ecommerce.css?v=0.0.1">
            <style>
                @media(max-width: 424px) {
                    .icon_as-w425 {
                        width: 95%;
                    }

                    .col-xs-25 {
                        width: 20% !important;
                    }
                }

                /* Dispositivos pequeÃ±os (tablets, anchura mayor o igual a 375px) */
                @media(max-width: 375px) {
                    .table {
                        font-size: 11.5px;
                    }
                }

                .bg-light-blue-disabled {
                    background-color: #81b5d4;
                    color: white;
                }

                .col-sin-padding {
                    padding-left: 0px;
                    padding-right: 0px;
                }
            </style>


            <script>
                setTimeout(function () {
                    //$(".se-pre-visa").fadeIn("slow").show();
                }, 100);

            </script>

            <!-- Preloader -->
            <script>
                $("#imgModal").show();
            </script>
            <!--End off Preloader -->


            <script>
                var controlador = "EnviarCarritoVisanet";
            </script>


            <!--Librerias VISANET-->
            <link rel="stylesheet" href="https://pocpaymentserve.s3.amazonaws.com/payform.min.css">
            <script src="https://pocpaymentserve.s3.amazonaws.com/payform.min.js"></script>
            <!--Fin Librerias VISANET-->
            <style>
                body,
                html {
                    background-color: #fff;
                    font-size: 14px;
                    color: #333;
                    padding: 0;
                    margin-left: 0;
                    margin-right: 0;
                    font-weight: 400;
                    width: 100%;
                    font-family: 'Source Sans Pro', 'Helvetica Neue', Helvetica, Arial, sans-serif;
                }
            </style>


            <section class="content-header">

                <div class="row">
                    <div id="divTimer" class="col-md-12 col-sm-12 col-xs-12 text-center"
                        style="display: none; position: fixed; top: 0px; z-index: 9; background: white; padding: 5px 0px;">
                        <a>
                            <i class="icofont icofont-clock-time" style="font-size: 20px"></i>

                            <span style="/* color: white !important; */font-size: 20px !important;" id="timer"
                                data-sec="35" data-min="7" class="text_height_2_5 text-ec-timer">04:12</span>
                        </a>
                    </div>
                    <div id="divPaso" class="col-md-12 col-sm-12 col-xs-12"
                        style="position: fixed; top: 0px; z-index: 8; background: white; padding-bottom: 5px; padding-top: 5px;">
                        <small id="spPtosUs" class="font_size_16p color_red" hidden="">Tienes hidden puntos
                            disponibles<br>
                        </small>
                        <small id="spPaso" class="font_size_16p" style="/*color: black; */">Paso 4/4: Detalle de la
                            compra y Datos del pagador</small>
                    </div>
                </div>
            </section>

            <section class="content m-bottom-40">
                <div class="row">
                    <div class="col-md-12">
                        <div id="accordionVenta" style="display: block;">
                            <div class="panel box box-primary">
                                <div class="box-header with-border">
                                    <h4 class="box-title" id="tituloItinerarios">
                                        <span class="text-blue" id="tituloCabeceraVenta"><i class="fa fa-credit-card"
                                                style="font-size: 1.5em;"></i>&nbsp;<font
                                                class="text_height_2_5 titleItinerario bold">PAGO</font></span>
                                    </h4>

                                    <div class="box-tools pull-right">

                                        <button id="btnToolCerrarVenta" type="button" class="btn btn-box-tool"
                                            data-toggle="tooltip" title="" data-original-title="Cerrar Ventana">
                                            <i class="fa fa-times fa-2x bold"></i>
                                        </button>
                                    </div>
                                </div>
                                <div id="collapseDetalle" class="panel-collapse collapse in">
                                    <div class="box-body" id="contenido_pasaje">
                                        <section id="itinerario" class="itinerario">
                                            <div class="content">
                                                <div class="row">
                                                    <div class="main_portfolio roomy-100">
                                                        <div class="col-md-12 lista_itinerario_xs">
                                                            <div class="box box-default box-solid">
                                                                <div class="box-header with-border">
                                                                    <h3 class="box-title">
                                                                        <i class="icofont-2x icofont-shopping-cart"
                                                                            style="margin-top: -3px; font-size: 1.5em;"></i>
                                                                        <font
                                                                            class="text_height_2_3_title titleItinerario bold">
                                                                            DETALLE DE COMPRA</font>
                                                                    </h3>
                                                                </div>
                                                                <div class="box-body">



                                                                    <div aria-expanded="true"
                                                                        class="collapse multi-collapse in"
                                                                        id="CollapseDetCompra">


                                                                        <div class="col-md-12">
                                                                            <div class="row lista_itinerario_xs">
                                                                                <div
                                                                                    class="col-md-12 col-xs-12 border_radius_4px bg-light-blue-disabled color-palette bold">
                                                                                    <div class="row">

                                                                                        <div
                                                                                            class="p-top-20 m-bottom-20">

                                                                                            <img src="http://localhost:62960/assets/images/bus_ida.png?v=0.0.1"
                                                                                                class="img_responsive col-md-1 col-sm-3 col-xs-4">
                                                                                            <font
                                                                                                class="text_height_2_3_title titleItinerario font_size_25p">
                                                                                                TRUJILLO - LIMA</font>

                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>



                                                                        <div aria-expanded="true"
                                                                            class="panel-body collapse multi-collapse in"
                                                                            id="CollapseDetCompraIda">
                                                                            <div class="row lista_itinerario_xs">

                                                                                <div class="col-md-12 p-top-20">

                                                                                    <div
                                                                                        class="m-top-20 m-bottom-30 text-center">
                                                                                        <h4 class="font_size_25p"><i
                                                                                                class="icofont icofont-ui-calendar"></i>

                                                                                            Thursday 14 de October del
                                                                                            2021
                                                                                        </h4>
                                                                                        <h4 class="font_size_25p">
                                                                                            Salida: 8:30 pm </h4>
                                                                                        <h4 class="font_size_25p">
                                                                                            Servicio: ESPECIAL </h4>
                                                                                    </div>

                                                                                </div>

                                                                                <div class="row">
                                                                                    <div
                                                                                        class="col-md-12 col-sm-12 col-xs-12 p-top-20 borderdiv_sinLinea">
                                                                                        <table
                                                                                            class="table table-yuk2 toggle-circle phone breakpoint footable-loaded footable"
                                                                                            id="footableIda"
                                                                                            data-page-size="5">
                                                                                            <thead>
                                                                                                <tr>
                                                                                                    <th data-toggle="true"
                                                                                                        class="footable-visible footable-first-column">
                                                                                                        Pasajero</th>
                                                                                                    <th
                                                                                                        class="footable-visible">
                                                                                                        Asiento</th>

                                                                                                    <th data-hide="phone,tablet"
                                                                                                        style="display: none;">
                                                                                                        Precio</th>
                                                                                                    <th data-hide="phone,tablet"
                                                                                                        style="display: none;">
                                                                                                        Descuento</th>

                                                                                                    <th data-name="Precio"
                                                                                                        class="footable-visible footable-last-column">
                                                                                                        Total</th>
                                                                                                </tr>
                                                                                            </thead>
                                                                                            <tbody>

                                                                                                <tr>
                                                                                                    <td
                                                                                                        class="footable-visible footable-first-column">
                                                                                                        <span
                                                                                                            class="footable-toggle"></span>Ferrer
                                                                                                        Cava Alexis
                                                                                                    </td>
                                                                                                    <td
                                                                                                        class="footable-visible">
                                                                                                        54-(PISO 1)</td>

                                                                                                    <td
                                                                                                        style="display: none;">
                                                                                                        S/ 90.00</td>
                                                                                                    <td
                                                                                                        style="display: none;">
                                                                                                        S/ 0.00</td>
                                                                                                    <td
                                                                                                        class="footable-visible footable-last-column">
                                                                                                        S/ 90.00</td>
                                                                                                </tr>

                                                                                            </tbody>
                                                                                        </table>

                                                                                    </div>
                                                                                </div>

                                                                            </div>
                                                                        </div>


                                                                        <hr>

                                                                        <!-- --------------------------------------------------------------------------------------------------------- -->

                                                                        <div class="">
                                                                            <div class="col-md-12  ">
                                                                                <div class="row lista_itinerario_xs">
                                                                                    <div class="">
                                                                                        <div
                                                                                            class="col-md-12 col-xs-12 border_radius_4px bg-light-blue-disabled color-palette bold">
                                                                                            <div class="row">

                                                                                                <div
                                                                                                    class="p-top-20 m-bottom-20">

                                                                                                    <img src="http://localhost:62960/assets/images/bus_ret.png?v=0.0.1"
                                                                                                        class="img_responsive col-md-1 col-sm-3 col-xs-4">
                                                                                                    <font
                                                                                                        class="text_height_2_3_title titleItinerario font_size_25p">
                                                                                                        LIMA - TRUJILLO
                                                                                                    </font>

                                                                                                </div>

                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>

                                                                        <div aria-expanded="true"
                                                                            class="panel-body collapse multi-collapse in"
                                                                            id="CollapseDetCompraRet">
                                                                            <div class="row lista_itinerario_xs">
                                                                                <div class="">
                                                                                    <div class="col-md-12 p-top-20">

                                                                                        <div
                                                                                            class="m-top-20 m-bottom-30 text-center">
                                                                                            <h4 class="font_size_25p"><i
                                                                                                    class="icofont icofont-ui-calendar"></i>

                                                                                                Thursday 21 de October
                                                                                                del 2021
                                                                                            </h4>
                                                                                            <h4 class="font_size_25p">
                                                                                                Salida: 8:30 am </h4>
                                                                                            <h4 class="font_size_25p">
                                                                                                Servicio: ESPECIAL </h4>
                                                                                        </div>

                                                                                    </div>
                                                                                </div>

                                                                                <div class="row">
                                                                                    <div
                                                                                        class="col-md-12 col-sm-12 col-xs-12 p-top-20 borderdiv_sinLinea">
                                                                                        <table
                                                                                            class="table table-yuk2 toggle-circle phone breakpoint footable-loaded footable"
                                                                                            id="footableRet"
                                                                                            data-page-size="5">
                                                                                            <thead>
                                                                                                <tr>
                                                                                                    <th data-toggle="true"
                                                                                                        class="footable-visible footable-first-column">
                                                                                                        Pasajero</th>
                                                                                                    <th
                                                                                                        class="footable-visible">
                                                                                                        Asiento</th>

                                                                                                    <th data-hide="phone,tablet"
                                                                                                        style="display: none;">
                                                                                                        Precio</th>
                                                                                                    <th data-hide="phone,tablet"
                                                                                                        style="display: none;">
                                                                                                        Descuento</th>

                                                                                                    <th data-name="Precio"
                                                                                                        class="footable-visible footable-last-column">
                                                                                                        Total</th>
                                                                                                </tr>
                                                                                            </thead>
                                                                                            <tbody>

                                                                                                <tr>
                                                                                                    <td
                                                                                                        class="footable-visible footable-first-column">
                                                                                                        <span
                                                                                                            class="footable-toggle"></span>Ferrer
                                                                                                        Cava Alexis
                                                                                                    </td>
                                                                                                    <td
                                                                                                        class="footable-visible">
                                                                                                        49-(PISO 1)</td>

                                                                                                    <td
                                                                                                        style="display: none;">
                                                                                                        S/ 90.00</td>
                                                                                                    <td
                                                                                                        style="display: none;">
                                                                                                        S/ 0.00</td>
                                                                                                    <td
                                                                                                        class="footable-visible footable-last-column">
                                                                                                        S/ 90.00</td>
                                                                                                </tr>

                                                                                            </tbody>
                                                                                        </table>
                                                                                    </div>
                                                                                </div>
                                                                            </div>

                                                                        </div>

                                                                        <hr>


                                                                    </div>

                                                                    <div class="row">

                                                                        <div class="">

                                                                            <div class="row">
                                                                                <div
                                                                                    class="col-md-12 col-xs-12 borderdiv_sinLinea">



                                                                                    <label for="txtCampanaDescuento"
                                                                                        class="col-md-12 col-xs-12">
                                                                                        Si tiene el cÃ³digo de una
                                                                                        promociÃ³n, ingrÃ©selo
                                                                                    </label>
                                                                                    <div
                                                                                        class="with-icon_B col-md-3 col-sm-6 col-xs-12">
                                                                                        <input class="custom-input"
                                                                                            id="txtCampanaDescuento"
                                                                                            name="txtCampanaDescuento"
                                                                                            type="text" value=""
                                                                                            placeholder="Ingrese cÃ³digo"
                                                                                            maxlength="10"
                                                                                            autocomplete="off">
                                                                                    </div>

                                                                                    <div
                                                                                        class="with-icon_B col-md-1 col-sm-2 col-xs-12 text-right">
                                                                                        <button type="button"
                                                                                            id="btnValidarCampanaDscto"
                                                                                            class="btn btn-success"><i
                                                                                                class="fa fa-check-circle fa-lg"></i>
                                                                                            &nbsp;Aplicar</button>
                                                                                    </div>

                                                                                    <div
                                                                                        class="with-icon_B col-md-12 col-xs-12">
                                                                                        <span id="msjCampanaDescuento"
                                                                                            class="control-label text-red"
                                                                                            hidden=""></span>
                                                                                    </div>


                                                                                </div>
                                                                            </div>


                                                                            <div
                                                                                class="col-md-12 col-xs-12 pull-right ">
                                                                                <div class="row ">
                                                                                    <div class="p-top-10 m-bottom-20">
                                                                                        <!--< i class="icofont-2x icofont-listine-dots text_height_2_3_title pull-right p-l-15" style="cursor:pointer"></i> -->
                                                                                        <div class="col-md-6">

                                                                                        </div>
                                                                                        <div class="col-md-6">
                                                                                            <h4
                                                                                                class="pull-right p-l-15 m-r-15-perc color_blue">
                                                                                                <b>Total a Pagar:</b> S/
                                                                                                180.00
                                                                                            </h4>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="box box-default box-solid">
                                                                <div class="box-header with-border">
                                                                    <h3 class="box-title">
                                                                        <i class="icofont-2x icofont-credit-card"
                                                                            style="margin-top: -3px; font-size: 1.5em;"></i>
                                                                        <font
                                                                            class="text_height_2_3_title titleItinerario">
                                                                            DATOS DE PAGO</font>
                                                                    </h3>
                                                                </div>
                                                                <div class="box-body">
                                                                    <!-- *********************************  METODO PAGO   *********************************-->
                                                                    <div aria-expanded="true"
                                                                        class="collapse multi-collapse in"
                                                                        id="CollapseDatosPago">

                                                                        <div class="row">
                                                                            <div class="p-top-20">
                                                                                <div
                                                                                    class="col-md-12 col-xs-12 borderdiv_sinLinea">
                                                                                    <label
                                                                                        class="w600 text-primary">Ingrese
                                                                                        datos de contacto</label>
                                                                                </div>

                                                                            </div>
                                                                        </div>

                                                                        <div class="row">
                                                                            <div
                                                                                class="col-md-12 col-sm-12 col-xs-12 borderdiv_sinLinea">
                                                                                <label for="pasPagador">Seleccione la
                                                                                    persona que recibirÃ¡ los boletos
                                                                                    electrÃ³nicos o ingrese un contacto
                                                                                    diferente</label>
                                                                            </div>

                                                                            <div class="row">
                                                                                <div
                                                                                    class="col-md-12 col-sm-12 col-xs-12 borderdiv_sinLinea">
                                                                                    <div
                                                                                        class="with-icon_B col-md-5 col-sm-12 col-xs-12">
                                                                                        <select
                                                                                            class="custom-input placeholder"
                                                                                            id="pasPagador"
                                                                                            name="pasPagador"
                                                                                            placeholder="Seleccione contacto"
                                                                                            onchange="selectContacto(this)">
                                                                                            <option>Seleccione contacto
                                                                                                (opcional)</option>
                                                                                            <option
                                                                                                value="DNI~73437870">
                                                                                                DNI-73437870 | Ferrer
                                                                                                Cava Alexis</option>
                                                                                            <option
                                                                                                value="DNI~73437870">
                                                                                                DNI-73437870 | Ferrer
                                                                                                Cava Alexis</option>
                                                                                            <option value="">Otro
                                                                                            </option>
                                                                                        </select>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>

                                                                        <form id="formularioPagoSafety"
                                                                            action="app_pago.aspx" method="post"
                                                                            novalidate="novalidate">
                                                                            <div class="row" id="formularioPago4"
                                                                                style="display: block;">
                                                                                <div
                                                                                    class="panel-heading borderdiv_sinLinea">
                                                                                    <div class="row">
                                                                                        <div
                                                                                            class="with-icon_B col-md-2 col-sm-6 col-xs-12">

                                                                                            <select id="spdoc_type"
                                                                                                class="custom-input valid"
                                                                                                onchange="cambiarTipoDoc(this)"
                                                                                                aria-invalid="false">

                                                                                                <option value="CRN">
                                                                                                    Carnet ExtranjerÃ­a
                                                                                                </option>

                                                                                                <option value="DNI"
                                                                                                    selected="">DNI
                                                                                                </option>

                                                                                                <option value="PAS">
                                                                                                    Pasaporte</option>

                                                                                            </select>
                                                                                        </div>

                                                                                        <div
                                                                                            class="with-icon_B col-md-2 col-sm-6 col-xs-12">

                                                                                            <span
                                                                                                id="sploadNroDoc"></span>
                                                                                            <input type="text"
                                                                                                autocomplete="off"
                                                                                                class="custom-input"
                                                                                                id="spdoc" name="spdoc"
                                                                                                placeholder="Nro. Documento"
                                                                                                onkeyup="validarDocComprador(this,'sp')">
                                                                                        </div>

                                                                                        <div
                                                                                            class="with-icon_B col-md-4 col-sm-6 col-xs-12">

                                                                                            <input type="text"
                                                                                                class="custom-input"
                                                                                                id="spfullname"
                                                                                                name="spfullname"
                                                                                                placeholder="Apellidos y Nombres">
                                                                                        </div>



                                                                                        <div
                                                                                            class="with-icon_B col-md-2 col-sm-6 col-xs-12">

                                                                                            <input type="text"
                                                                                                class="custom-input"
                                                                                                id="spphone"
                                                                                                name="spphone"
                                                                                                placeholder="TelÃ©fono">
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>

                                                                            <div class="row"></div>

                                                                            <div class="row" id="formularioPago5"
                                                                                style="display: block">
                                                                                <div
                                                                                    class="panel-heading borderdiv_sinLinea">
                                                                                    <div class="row">
                                                                                        <div
                                                                                            class="with-icon_B col-md-4 col-sm-5 col-xs-12">

                                                                                            <input type="text"
                                                                                                class="custom-input"
                                                                                                id="spemail"
                                                                                                name="spemail"
                                                                                                placeholder="tucorreo@ejemplo.com">
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </form>

                                                                        <div class="row">
                                                                            <div
                                                                                class="col-md-12 col-xs-12 borderdiv_sinLinea">
                                                                                <label
                                                                                    class="w600 text-primary">Seleccione
                                                                                    Medio de Pago</label>
                                                                            </div>
                                                                        </div>

                                                                        <div class="row">
                                                                            <div
                                                                                class="col-md-12 col-xs-12 borderdiv_sinLinea">
                                                                                <ul class="nav nav-tabs"
                                                                                    style="border-bottom: 0px;">
                                                                                    <li class=""
                                                                                        style="border-bottom: 1px solid #ddd;">
                                                                                        <a class="tab_color_red2"
                                                                                            data-toggle="tab"
                                                                                            href="#tab_tarjetas"
                                                                                            id="tabPagoTarjetas"
                                                                                            data-activar_modal_campaÃ±a="1"
                                                                                            onclick="activarFormaPago(this)">Pago
                                                                                            con Tarjeta
                                                                                        </a>
                                                                                    </li>
                                                                                    <li class=""
                                                                                        style="border-bottom: 1px solid #ddd;">
                                                                                        <a class="tab_color_red2"
                                                                                            data-toggle="tab"
                                                                                            href="#tab_bancaInternet"
                                                                                            id="tabPagoBancaInternet"
                                                                                            data-activar_modal_campaÃ±a="1"
                                                                                            onclick="activarFormaPago(this)">Pago
                                                                                            con Banco
                                                                                        </a>
                                                                                    </li>
                                                                                </ul>

                                                                                <div class="row">

                                                                                    <div
                                                                                        class="p-top-10 col-md-12 col-xs-12">
                                                                                        <div id="msjTipoTarjeta"
                                                                                            class="control-label text-red text-justify"
                                                                                            hidden=""></div>
                                                                                    </div>
                                                                                </div>

                                                                                <div class="tab-content"
                                                                                    style="border-top-left-radius: 0px; padding-bottom: 10px !important;">

                                                                                    <div id="tab_tarjetas"
                                                                                        class="tab-pane fade borderdiv_movil">
                                                                                        <div class="row">
                                                                                            <div class="p-top-20">
                                                                                                <div class="">
                                                                                                    <div
                                                                                                        class="col-md-12 col-sm-12 col-xs-12">
                                                                                                        <div
                                                                                                            class="p-top-10 m-bottom-20">


                                                                                                            <div
                                                                                                                class="row">
                                                                                                                <div class="con-tooltip bottom col-md-4 col-sm-12 col-xs-12"
                                                                                                                    style="display: none;">

                                                                                                                    <label
                                                                                                                        class="container_input"
                                                                                                                        data-toggle="pasarelas"
                                                                                                                        title=""
                                                                                                                        data-content=""
                                                                                                                        data-original-title="">
                                                                                                                        <input
                                                                                                                            onchange="mostrarAvisoPago(0);"
                                                                                                                            type="radio"
                                                                                                                            name="optradio"
                                                                                                                            id="tarjetaVisa">
                                                                                                                        <span
                                                                                                                            class="radiomark"></span>

                                                                                                                        <span
                                                                                                                            style="font-size: 25px; font-weight: normal !important;">
                                                                                                                            <div
                                                                                                                                class="row">
                                                                                                                                <div
                                                                                                                                    class="col-md-12 col-sm-12 col-xs-12">
                                                                                                                                    <div
                                                                                                                                        class="col-md-3 col-sm-6 col-xs-5">
                                                                                                                                        <img src="../assets/images/Visa.png?v=0.0.1"
                                                                                                                                            data-value="VISA"
                                                                                                                                            class="img-responsive"
                                                                                                                                            style=" padding: 2px;">
                                                                                                                                    </div>
                                                                                                                                    <div
                                                                                                                                        class="col-md-3 col-sm-6 col-xs-5">
                                                                                                                                        <img src="../assets/images/MasterCard.png?v=0.0.1"
                                                                                                                                            data-value="MASTERCARD"
                                                                                                                                            class="img-responsive"
                                                                                                                                            style=" padding: 2px;">
                                                                                                                                    </div>
                                                                                                                                    <div
                                                                                                                                        class="col-md-3 col-sm-6 col-xs-5">
                                                                                                                                        <img src="../assets/images/american_express.png?v=0.0.1"
                                                                                                                                            data-value="AMEX"
                                                                                                                                            class="img-responsive"
                                                                                                                                            style=" padding: 2px;">
                                                                                                                                    </div>
                                                                                                                                    <div
                                                                                                                                        class="col-md-3 col-sm-6 col-xs-5">
                                                                                                                                        <img src="../assets/images/DinersClub_PayU.png?v=0.0.1"
                                                                                                                                            data-value="DINERS"
                                                                                                                                            class="img-responsive"
                                                                                                                                            style=" padding: 2px;">
                                                                                                                                    </div>
                                                                                                                                </div>
                                                                                                                            </div>
                                                                                                                        </span>
                                                                                                                    </label>
                                                                                                                </div>


                                                                                                                <div
                                                                                                                    class="row">
                                                                                                                    <div class="col-xs-12"
                                                                                                                        id="divFormularioVisanet"
                                                                                                                        style="display: none;">
                                                                                                                        <form
                                                                                                                            id="formularioPagoVisanet"
                                                                                                                            novalidate="novalidate">

                                                                                                                            <div
                                                                                                                                class="">
                                                                                                                                <div
                                                                                                                                    class="with-icon_B col-md-12 col-sm-12 col-xs-12">
                                                                                                                                    <label
                                                                                                                                        class="w600 text-primary">Ingrese
                                                                                                                                        datos
                                                                                                                                        de
                                                                                                                                        la
                                                                                                                                        tarjeta</label>
                                                                                                                                </div>

                                                                                                                                <div
                                                                                                                                    class="with-icon_B col-md-4 col-sm-5 col-xs-12">
                                                                                                                                    <label
                                                                                                                                        for="txtNumeroTarjeta">NÃºmero
                                                                                                                                        de
                                                                                                                                        tarjeta</label>
                                                                                                                                    <div id="txtNumeroTarjeta"
                                                                                                                                        class="custom-input">
                                                                                                                                    </div>
                                                                                                                                    <span
                                                                                                                                        id="msjNumeroTarjeta"
                                                                                                                                        class="control-label text-red"
                                                                                                                                        hidden=""
                                                                                                                                        style="display: none;"></span>
                                                                                                                                </div>

                                                                                                                                <div
                                                                                                                                    class="with-icon_B col-md-2 col-sm-2 col-xs-12">
                                                                                                                                    <label
                                                                                                                                        for="txtFechaVencimiento">ExpiraciÃ³n</label>
                                                                                                                                    <div id="txtFechaVencimiento"
                                                                                                                                        class="custom-input">
                                                                                                                                    </div>
                                                                                                                                    <span
                                                                                                                                        id="msjFechaVencimiento"
                                                                                                                                        class="control-label text-red"
                                                                                                                                        hidden=""
                                                                                                                                        style="display: none;"></span>
                                                                                                                                </div>

                                                                                                                                <div
                                                                                                                                    class="with-icon_B col-md-2 col-sm-2 col-xs-12">
                                                                                                                                    <label
                                                                                                                                        for="txtCvv">CVV</label>
                                                                                                                                    <div id="txtCvv"
                                                                                                                                        class="custom-input">
                                                                                                                                    </div>
                                                                                                                                    <span
                                                                                                                                        id="msjCvv"
                                                                                                                                        class="control-label text-red"
                                                                                                                                        hidden=""
                                                                                                                                        style="display: none;"></span>
                                                                                                                                </div>

                                                                                                                                <div id="divNumCuotas"
                                                                                                                                    class="with-icon_B col-md-2 col-sm-3 col-xs-12">
                                                                                                                                </div>

                                                                                                                                <div
                                                                                                                                    class="row">
                                                                                                                                </div>



                                                                                                                                <div
                                                                                                                                    class="with-icon_B col-md-3 col-sm-5 col-xs-12">
                                                                                                                                    <label
                                                                                                                                        for="txtTNombres">Nombres</label>
                                                                                                                                    <input
                                                                                                                                        type="text"
                                                                                                                                        class="custom-input"
                                                                                                                                        id="txtTNombres"
                                                                                                                                        name="txtTNombres"
                                                                                                                                        placeholder="Nombres">
                                                                                                                                </div>

                                                                                                                                <div
                                                                                                                                    class="with-icon_B col-md-3 col-sm-5 col-xs-12">
                                                                                                                                    <label
                                                                                                                                        for="txtTApellidos">Apellidos</label>
                                                                                                                                    <input
                                                                                                                                        type="text"
                                                                                                                                        class="custom-input"
                                                                                                                                        id="txtTApellidos"
                                                                                                                                        name="txtTApellidos"
                                                                                                                                        placeholder="Apellidos">
                                                                                                                                </div>

                                                                                                                                <div
                                                                                                                                    class="with-icon_B col-md-3 col-sm-6 col-xs-12">
                                                                                                                                    <label
                                                                                                                                        for="txtTCorreo">Email</label>
                                                                                                                                    <input
                                                                                                                                        type="text"
                                                                                                                                        class="custom-input"
                                                                                                                                        id="txtTCorreo"
                                                                                                                                        name="txtTCorreo"
                                                                                                                                        placeholder="tucorreo@ejemplo.com">
                                                                                                                                </div>

                                                                                                                                <div
                                                                                                                                    class="with-icon_B col-md-2 col-sm-5 col-xs-12">
                                                                                                                                    <label
                                                                                                                                        for="txtTTelef">TelÃ©fono</label>
                                                                                                                                    <input
                                                                                                                                        type="text"
                                                                                                                                        class="custom-input"
                                                                                                                                        id="txtTTelef"
                                                                                                                                        name="txtTTelef"
                                                                                                                                        placeholder="TelÃ©fono">
                                                                                                                                </div>
                                                                                                                            </div>
                                                                                                                        </form>
                                                                                                                    </div>
                                                                                                                </div>

                                                                                                                <script>
                                                                                                                    var configuration = { sessionkey: '', channel: 'web', merchantid: '341198210', purchasenumber: '', amount: '', language: 'es', };
                                                                                                                </script>


                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>

                                                                                    <div id="tab_bancaInternet"
                                                                                        class="tab-pane fade borderdiv_movil">
                                                                                        <div class="row">
                                                                                            <div class="p-top-20">
                                                                                                <div class="row">
                                                                                                    <div
                                                                                                        class="col-md-12 col-sm-12 col-xs-12">
                                                                                                        <div
                                                                                                            class="row p-top-10 m-bottom-20">
                                                                                                            <div
                                                                                                                class="col-md-12 p-l-20">
                                                                                                                <div
                                                                                                                    class="con-tooltip bottom col-md-6 col-sm-6 col-xs-12">

                                                                                                                    <label
                                                                                                                        class="container_input"
                                                                                                                        id="safetyMethod"
                                                                                                                        data-toggle="pasarelas"
                                                                                                                        title=""
                                                                                                                        data-content=""
                                                                                                                        data-original-title="">
                                                                                                                        <input
                                                                                                                            onchange="mostrarAvisoPago(0);"
                                                                                                                            type="radio"
                                                                                                                            name="optradio"
                                                                                                                            id="safety">
                                                                                                                        <span
                                                                                                                            class="radiomark"></span>


                                                                                                                        <img src="https://www.linea.pe/assets/images/safetypay_logo_v2.png?v0.0.0.01"
                                                                                                                            class="img-responsive col-md-11">
                                                                                                                    </label>
                                                                                                                </div>

                                                                                                                <div
                                                                                                                    class="con-tooltip bottom col-md-4 col-sm-6 col-xs-12">

                                                                                                                    <label
                                                                                                                        class="container_input"
                                                                                                                        id="pagEfectivoMethod"
                                                                                                                        data-toggle="pasarelas"
                                                                                                                        title=""
                                                                                                                        data-content=""
                                                                                                                        data-original-title="">
                                                                                                                        <input
                                                                                                                            onchange="mostrarAvisoPago(0);"
                                                                                                                            type="radio"
                                                                                                                            name="optradio"
                                                                                                                            id="pagoEfectivo">
                                                                                                                        <span
                                                                                                                            class="radiomark"></span>

                                                                                                                        <img src="../assets/images/pagoefectivo.png"
                                                                                                                            class="img-responsive col-md-9"
                                                                                                                            style="/*margin-top: -25px; */">
                                                                                                                    </label>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>

                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>

                                                                        <form class="row" id="terminosPago"
                                                                            novalidate="novalidate">
                                                                            <div
                                                                                class="col-md-12 col-xs-12 borderdiv_sinLinea">
                                                                                <div class="btn-group pull-right">

                                                                                    <label class="">
                                                                                        <input type="checkbox"
                                                                                            name="terminos"
                                                                                            id="terminos"
                                                                                            checked="checked"
                                                                                            style="display: none;">



                                                                                        Al continuar estÃ¡ aceptando las
                                                                                        Condiciones y Requisitos de
                                                                                        viaje. ConsÃºltelos desde el App
                                                                                        o Web
                                                                                    </label>

                                                                                </div>
                                                                            </div>
                                                                        </form>

                                                                        <div class="row">
                                                                            <div id="errorPasarela"
                                                                                class="p-top-10 col-md-12 col-xs-12 borderdiv_sinLinea"
                                                                                style="display: none;">
                                                                                <div class="alert alert-danger alert-dismissible"
                                                                                    role="alert">
                                                                                    <button id="errorPasarelaClose"
                                                                                        type="button" class="close"
                                                                                        aria-label="Close">

                                                                                        <span
                                                                                            class="glyphicon glyphicon-remove"></span>
                                                                                    </button>
                                                                                    <span id="messageEPasarela"></span>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>

                                                                    <br>
                                                                    <!-- ********************************* METODO PAGO  *********************************-->


                                                                </div>
                                                            </div>


                                                            <div class="btn_sig_fixed col-md-12 col-xs-12">
                                                                <div class="pull-right m-top-20">

                                                                    <button
                                                                        style="padding-left: 10px; font-size: 14px !important;"
                                                                        id="btnPagar" class="btn btn-success"><i
                                                                            class=""></i>&nbsp;Procesar pago&nbsp;S/
                                                                        180.00</button>
                                                                </div>
                                                            </div>


                                                        </div>

                                                    </div>
                                                </div>
                                            </div>
                                        </section>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Modal Alerta -->
            <div class="modal fade" id="modalAlerta" tabindex="-1" role="dialog" data-backdrop="true"
                aria-labelledby="modalAlertaTitulo">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">


                            <h4 class="modal-title" id="modalAlertaTitulo">Mensaje</h4>
                        </div>
                        <div class="modal-body modal-body-max-height" id="modalAlertaBody">
                        </div>
                        <div class="modal-footer">

                            <button type="button" class="btn btn-default color_blue" data-dismiss="modal"
                                style="background: unset; border: unset;">ACEPTAR</button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Fin Modal Alerta -->

            <!-- Modal CampaÃ±a -->
            <div class="modal fade" id="modalCampania" tabindex="-1" role="dialog" data-backdrop="static"
                data-keyboard="true" aria-labelledby="modalCampaniaTitulo">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true" class="glyphicon glyphicon-remove"></span>
                            </button>
                            <h4 class="modal-title" id="modalCampaniaTitulo">Aviso Promocional</h4>
                        </div>
                        <div class="modal-body" id="modalCampaniaBody">
                            <div style="font-size: 1.6rem;">
                                Si tienes una tarjeta del Banco BBVA PerÃº, escribe en la casilla de promociÃ³n el cÃ³digo
                                <strong>BBVA</strong>
                                y presiona <strong>Aplicar</strong> para tener un descuento del 15% sobre el valor total
                                de tu compra
                            </div>
                            <p>(VÃ¡lido solo para la opciÃ³n Pago con Tarjeta)</p>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default color_blue" data-dismiss="modal"
                                style="background: unset; border: unset;">CERRAR</button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Fin Modal CampaÃ±a -->

            <!-- Modal Condiciones de viaje -->
            <div class="modal fade" id="modalCondicionesViaje" tabindex="-1" role="dialog" data-backdrop="true"
                aria-labelledby="modalCondicionesViajeTitulo">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-body modal-body-max-height" id="modalCondicionesViajeBody"
                            style="padding: 0px;">
                            <iframe id="frmCondicionesViaje" src="../../Terminos_Condiciones_Viaje.pdf"
                                style="width: 100%; height: 300px;"></iframe>
                        </div>
                        <div class="modal-footer">

                            <button type="button" class="btn btn-default color_blue" data-dismiss="modal"
                                style="background: unset; border: unset;">CERRAR</button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Fin Modal Condiciones de viaje -->

            <script type="text/javascript">
                //console.clear();        
                var num_cip = "";
                var url_gen_cip = "";
                var fecha_exp_cip = "";

                function VerCondicionesViaje() {
                    //$("#modalPDFViewer").modal("show");
                }

                function iniciarComponentes() {

                    /*---Cargar pdf condiciones de viaje---*/
                    //var pdfData_url = "https://www.linea.pe/Terminos_Condiciones_Viaje.pdf";
                    /*var pdfData_url = "../../Terminos_Condiciones_Viaje.pdf";
                    PDFView.pdfData_url = pdfData_url;
                    cargarPDFViewer();*/
                    /*---Cargar pdf condiciones de viaje---*/

                    //$('[data-toggle="tooltip"]').tooltip({
                    //    animated: "fade",
                    //    placement: "right",
                    //    html: true
                    //});

                    placeholder('pasPagador');

                    if (!isEmpty($("#chkMisDatos")[0]) && (!isEmpty($("#chkMisDatos").data().tdoc) && !isEmpty($("#chkMisDatos").data().ndoc))) {
                        $("#chkMisDatos").prop("checked", true);
                    }
                    $("#chkMisDatos").click();

                    $("#formularioPagoVisanet").validate({
                        errorClass: "text-red input-danger",
                        errorElement: "span"
                    });


                    $('[data-toggle="pasarelas"]').popover({
                        trigger: 'hover',
                        html: true,
                        placement: "bottom",
                        //template: '<div class="popover ppbg_light-blue-active" role="tooltip"><div class="arrow"></div><h3 class="popover-title bold bg-light-blue-active text-white"></h3><div class="popover-content"></div></div>'
                    });

                    $("#payMethods").click(function (e) {
                        $("#formularioPago1").attr("style", "display:block");
                        $("#formularioPago2").attr("style", "display:block");
                        $("#formularioPago3").attr("style", "display:block");
                        $("#formularioPago4").attr("style", "display:none");
                        $("#formularioPago5").attr("style", "display:none");
                    });

                    $("#safetyMethod").click(function (e) {
                        $("#formularioPago1").attr("style", "display:none");
                        $("#formularioPago2").attr("style", "display:none");
                        $("#formularioPago3").attr("style", "display:none");
                        $("#formularioPago4").attr("style", "display:block");
                        $("#formularioPago5").attr("style", "display:block");
                    });

                    $(".select2").select2({
                        width: "100%"
                    });


                };

                $("#divTimer").removeClass("hidden");

                $("#tituloCabeceraVenta").html('<i class="fa fa-credit-card" style="font-size: 1.5em;"></i>&nbsp;<font class="text_height_2_5 titleItinerario bold">PAGO</font>');
                $("#spPaso").html("Paso 4/4: Detalle de la compra y Datos del pagador");
                $("html, body").animate({ scrollTop: 0 }, "slow");


                $("#btnValidarCampanaDscto").click(function (e) {
                    $("#modalCargandoLoading").show();
                    $("#modalCargandoHeader").hide();
                    $("#modalCargandoFooter").hide();

                    var codigo = $("#txtCampanaDescuento").val();
                    var msjId = "msjCampanaDescuento";

                    $("#" + msjId).html("").hide();

                    if (isEmpty(codigo)) {
                        $("#" + msjId).html("El cÃ³digo es obligatorio").show();
                        return;
                    }

                    var params = {
                        codigo: codigo
                    };

                    $("#btnValidarCampanaDscto").prop('disabled', true);
                    $("#spModalCargandoMsj").html("Validando cÃ³digo...");
                    $("#modalCargando").modal("show");

                    $.ajax({
                        url: 'app_pago.aspx/ValidarCampaÃ±a',
                        type: "POST",
                        data: JSON.stringify(params),
                        contentType: "application/json;charset=UTF-8",
                        dataType: "json",
                        beforeSend: function () {
                            //timer.pause();
                            //deshabilitarBoton("btnValidarCampanaDscto");
                        },
                        success: function (result) {
                            //habilitarBoton("btnValidarCampanaDscto");
                            $("#btnValidarCampanaDscto").prop('disabled', "");

                            var mensaje = "";
                            result = result.d;

                            if (result.Item1 == "0") {
                                setTimeout(function () {
                                    $("#spModalCargandoMsj").html("Aplicando descuento...");
                                }, 1000)

                                setTimeout(function () {
                                    window.location.href = "app_pago.aspx";
                                }, 1500);
                            } else {
                                mensaje = result.Item2;
                                if (isEmpty(mensaje) || result.Item1 == "error") {
                                    mensaje = "Error no controlado, por favor intÃ©ntelo nuevamente";
                                }
                            }

                            if (!isEmpty(mensaje)) {
                                setTimeout(function () {
                                    $("#modalCargando").modal("hide");
                                    $("#" + msjId).html(mensaje).show();
                                    $('html,body').animate({ scrollTop: $("#" + msjId).offset().top - 240 }, 'slow');
                                }, 1000);
                            }

                            //timer.start();
                        },
                        error: function (errormessage) {
                            //habilitarBoton("btnValidarCampanaDscto");
                            $("#btnValidarCampanaDscto").prop('disabled', "");
                            //timer.start();

                            setTimeout(function () {
                                $("#modalCargando").modal("hide");
                                //console.log(errormessage.responseText);
                                $('html,body').animate({ scrollTop: $("#" + msjId).offset().top - 240 }, 'slow');
                                $("#" + msjId).html("Error al validar CÃ³digo").show();
                            }, 1000);
                        }
                    });
                });

                function mostrarAvisoPago(valor) {
                    /*$("#msjTipoTarjeta").html('').hide();
                    if (valor == 1) {
                        //$("#msjTipoTarjeta").html('En este momento sÃ³lo estÃ¡ disponible el pago con tarjetas VISA, para otras tarjetas utilice SafetyPay.').show();
                        $("#msjTipoTarjeta").html('En estos momentos no estÃ¡ disponible la opciÃ³n pago con tarjeta, por favor selecione otra opciÃ³n. Gracias.').show();
                    }
                    */
                }

                $('[data-det_dscto="popover"]').popover({
                    trigger: 'focus',
                    html: true,
                    placement: "bottom",
                    template: '<div class="popover ppbg_blue" role="tooltip"><div class="arrow"></div><h3 class="popover-titlePop bold bg_blue text-white">Detalle de Descuento</h3><div class="popover-content"></div></div>'
                });


                carpeta_ec = "";
                var estado_safety_pe = false;
                function countDown() {
                    var tiempo = $("#timer").data();
                    var minutos = tiempo.min;
                    var segundos = tiempo.sec;

                    //console.log(tiempo);
                    if (minutos == "00" && segundos == "00") {
                        if (!estado_safety_pe) {
                            $.ajax({
                                method: "POST",
                                url: "app_itinerarioIda.aspx/finalizaCountDown",
                                contentType: "application/json; charset-utf-8",
                                //data: JSON.stringify(params),
                                dataType: "json",
                                success: function (response) {
                                    $("#modalAlertaBody").html("Lo Sentimos, su tiempo de compra ha finalizado.");
                                    $("#modalAlerta").modal("show");
                                    setTimeout(function () {
                                        $("#modalAlerta").modal("hide");
                                        //window.location.href = response.d;
                                    }, 3000);

                                },
                                error: function (e) {
                                    console.log('error', e);
                                }
                            });
                        }
                    }

                    timer = new Timer();
                    timer.start({ countdown: true, startValues: { minutes: minutos, seconds: segundos } });
                    $('#timer').html(timer.getTimeValues().toString(['minutes', 'seconds']));
                    timer.addEventListener('secondsUpdated', function (e) {
                        if (timer.getTimeValues().minutes == 2 && timer.getTimeValues().seconds == 0) {
                            $("#modalAlertaBody").html(timer.getTimeValues().minutes + ":00");
                            $("#modalAlertaBody").html("Le quedan 2 minutos para finalizar su compra.");
                            $("#modalAlerta").modal("show");
                            setTimeout(function () {
                                $("#modalAlerta").modal("hide");
                            }, 5000);
                        }
                        var params = {
                            minutos: timer.getTimeValues().minutes,
                            segundos: timer.getTimeValues().seconds
                        }
                        $.ajax({
                            method: "POST",
                            url: "app_itinerarioIda.aspx/actualizaCountDown",
                            contentType: "application/json; charset-utf-8",
                            data: JSON.stringify(params),
                            dataType: "json",
                            success: function (response) {
                                if (response.d == "0") {
                                    $('#timer').html(timer.getTimeValues().toString(['minutes', 'seconds']));
                                    $('#timer').data("min", timer.getTimeValues().minutes)
                                    $("#timer").data("sec", timer.getTimeValues().seconds);
                                } else {
                                    if (!estado_safety_pe) {
                                        $("#modalAlertaBody").html("Lo Sentimos, su tiempo de compra ha finalizado.");
                                        $("#modalAlerta").modal("show");
                                        setTimeout(function () {
                                            $("#modalAlerta").modal("hide");
                                            window.location.href = response.d;
                                        }, 3000);
                                    }

                                }
                            },
                            error: function (e) {
                                console.log('error', e);
                            }
                        });

                    });
                    timer.addEventListener('targetAchieved', function (e) {
                        //$('#timer').html('KABOOM!!');
                        $('#timer').html('Tiempo agotado');
                        if (!estado_safety_pe) {
                            $.ajax({
                                method: "POST",
                                url: "app_itinerarioIda.aspx/finalizaCountDown",
                                contentType: "application/json; charset-utf-8",
                                //data: JSON.stringify(params),
                                dataType: "json",
                                success: function (response) {
                                    $("#modalAlertaBody").html("Lo Sentimos, su tiempo de compra ha finalizado.");
                                    $("#modalAlerta").modal("show");
                                    setTimeout(function () {
                                        $("#modalAlerta").modal("hide");
                                        window.location.href = response.d;
                                    }, 5000);
                                },
                                error: function (e) {
                                    console.log('error', e);
                                }
                            });
                        } else {
                            //window.location.href = "../index.aspx";
                            finalizarTransaccion("pago");
                            //console.log(reload);
                        }

                    });
                }

                function habilitarMisDatos(object) {
                    var tdoc = object.dataset.tdoc;
                    var ndoc = object.dataset.ndoc;

                    if (object.checked) {
                        if (!isEmpty(tdoc) && !isEmpty(ndoc)) {
                            $("#spdoc_type").val(tdoc);
                            $("#spdoc").val(ndoc).trigger("keyup");
                            $("#spfullname").val($("#spfullname").val()).trigger("keyup");
                            $("#spphone").val($("#spphone").val()).trigger("keyup");
                            $("#spemail").val($("#spemail").val()).trigger("keyup");
                        }

                    } else {
                        var f_tdoc = $("#spdoc_type").val();
                        var f_noc = $("#spdoc").val();
                        if (tdoc == f_tdoc && ndoc == f_noc) {
                            $("#spdoc_type").val("DNI");
                            $("#spdoc").val("");
                            $("#spfullname").val("");
                            $("#spphone").val("");
                            $("#spemail").val("");
                        }
                    }
                }

                function mostrarDescuento(object) {
                    if (isMobile.mobilecheck()) {
                        var data = $(object).data();
                        $("#modalMensajeTitulo").html(data.titlepop);
                        $("#modalMensajeBody").html(data.content);
                        $("#modalMensaje").modal("show");
                    }
                }

                function FinalizarCompra() {
                    $("#terminos").prop("checked", true);
                    estado_safety_pe = false;
                    var scroll_top_msj_error = "errorPasarela";
                    //var scroll_top_msj_error = "pagEfectivoMethod";
                    //tiempo_extra = true;
                    //deshabilitarBoton("btnPagar");
                    $("#btnPagar").prop('disabled', true);
                    $("#imgModal").show();
                    $(".se-pre-con").fadeIn("slow").show();
                    $("#messageEPasarela").html("");
                    $("#errorPasarela").hide();

                    $('#terminosPago').removeClass("text-red");
                    $('#iTerminos').removeClass("text-red");

                    if ($("#terminos").is(":checked") == false) {
                        $('#terminosPago').addClass("text-red");
                        $('#iTerminos').addClass("text-red");
                    }

                    if (!$("input[name='optradio']").is(':checked')) {
                        $("#msjTipoTarjeta").html('Seleccione un medio de pago').show();
                        //$('html,body').animate({ scrollTop: $("#" + scroll_top_msj_error).offset().top - 140 }, 'slow');
                        $('html,body').animate({ scrollTop: $("#msjTipoTarjeta").offset().top - 140 }, 'slow');
                        $(".se-pre-con").fadeOut("slow").hide();
                        //habilitarBoton("btnPagar");
                        $("#imgModal").hide();
                        $("#btnPagar").prop('disabled', '');
                    } else {
                        $("#msjTipoTarjeta").html('').hide();
                    }

                    if ($("#tarjetaVisa").is(":checked")) {
                        var validacion = true;
                        var formValidate = "formularioPagoPayU";
                        if (controlador == "EnviarCarritoVisanet") {
                            formValidate = "formularioPagoSafety";
                            if ($("#formularioPagoVisanet").valid() == false) {
                                validacion = false;
                                $(".se-pre-con").fadeOut("slow").hide();
                                //habilitarBoton("btnPagar");
                                $("#btnPagar").prop('disabled', '');
                                $("#imgModal").hide();
                            }
                        }
                        if ($("#" + formValidate).valid() == false || $("#terminos").is(":checked") == false) {
                            validacion = false;
                            //$('html,body').animate({ scrollTop: $("#" + scroll_top_msj_error).offset().top - 140 }, 'slow');
                            $('html,body').animate({ scrollTop: $("#" + formValidate).offset().top }, 'slow');
                            $(".se-pre-con").fadeOut("slow").hide();
                            //habilitarBoton("btnPagar");
                            $("#imgModal").hide();
                            $("#btnPagar").prop('disabled', '');
                            $("#imgModal").hide();
                            return false;
                        }

                        if (validacion == true) {
                            timer.stop();
                            var spfullname = "";
                            var params = {};

                            if (controlador == "EnviarCarritoVisanet") {
                                //spfullname = trim($("#spName").val()) + " " + trim($("#spLastName").val());
                                spfullname = trim($("#spfullname").val());
                                params = {
                                    payer: {
                                        TipoDoc: $("#spdoc_type").val(),
                                        NumDoc: $("#spdoc").val(),
                                        NombreCompleto: trim(spfullname),
                                        //Nombre: $("#spName").val(),
                                        //ApPaterno: $("#spLastName").val(),
                                        Correo: $("#spemail").val(),
                                        Telefono: $("#spphone").val(),
                                        Direccion: ""
                                    },
                                    visanet: {
                                        TipoTarjeta: "",
                                        Tarjeta: "",
                                        TarjetaBin: (isEmpty($("#txtNumeroTarjeta").data().tarjeta_bin)) ? "" : $("#txtNumeroTarjeta").data().tarjeta_bin,
                                        transactionId: "" //tokenVisa
                                        //NumCuotas: isEmpty($("#txtNumCuotas").val()) ? "0" : $("#txtNumCuotas").val(),
                                    }
                                };
                            } else {
                                //spfullname = trim($("#ccName").val()) + " " + trim($("#ccLastName").val());
                                spfullname = trim($("#ccName").val());
                                params = {
                                    payer: {
                                        TipoDoc: $("#doc_type").val(),
                                        NumDoc: $("#ccdoc").val(),
                                        Nombre: spfullname,
                                        NombreCompleto: trim(spfullname),
                                        Correo: $("#email").val(),
                                        Telefono: $("#phone").val(),
                                        Direccion: $("#direccion").val(),
                                        Ciudad: $("#ciudad").val(),
                                        Pais: $("#pais").val()
                                    },
                                    payUP: {
                                        tipoTarjeta: detectCardType($("#cardnumber").val()),
                                        Tarjeta: $("#cardnumber").val(),
                                        orderId: "",
                                        transactionId: "",
                                        authorizationCode: "",
                                        operationDate: "",
                                        CCYear: $("#ccyear").val(),
                                        CCMonth: $("#ccmonth").val(),
                                        CVC: $("#cvc").val(),
                                        NumCuotas: $("#cuotas").val()
                                    }
                                };
                            }

                            var random = Math.floor(Math.random() * 10);
                            var data_visa = {
                                name: $("#txtTNombres").val(),
                                lastName: $("#txtTApellidos").val(),
                                email: $("#txtTCorreo").val(),
                                //phoneNumber: params.payer.Telefono,
                                phoneNumber: $("#txtTTelef").val(),
                                currencyConversion: false,
                                recurrence: false,
                                alias: 'mialias' + random,
                                userBlockId: 'miUserBlockId' + random
                            };
                            if (!isEmpty($("#txtNumCuotas").val()) && $("#txtNumCuotas").val() > 0) {
                                data_visa.installment = $("#txtNumCuotas").val();
                            }

                            //console.log(data_visa);
                            //Validar Datos antes de enviar a visanet
                            if (!validarDatosCompra(params, "RegistrarDatosPagador")) return false;
                            if (!validarDatosCompra(params, "ValidarTarjetaCampaÃ±a")) return false;

                            $(".se-pre-con").fadeOut("slow").show();
                            $("#btnPagar").prop('disabled', true);
                            payform.createToken(
                                [cardNumber, cardExpiry, cardCvv],
                                data_visa
                            )
                                .then(function (data) {
                                    //console.log(data);
                                    if (isEmpty(data)) {
                                        $(".se-pre-con").fadeOut("slow").hide();
                                        $("#btnPagar").prop('disabled', '');
                                        $("#imgModal").hide();
                                        $("#messageEPasarela").html("Error al generar token de transacciÃ³n con pasarela de pago");
                                        $('html,body').animate({ scrollTop: $("#" + scroll_top_msj_error).offset().top - 140 }, 'slow');
                                        return;
                                    }
                                    $(".se-pre-con").fadeOut("slow").show();
                                    $("#btnPagar").prop('disabled', true);

                                    params.visanet.transactionId = data.transactionToken;
                                    params.visanet.TarjetaBin = data.bin;
                                    $("#txtNumeroTarjeta").data().tarjeta_bin = data.bin;

                                    $.ajax({
                                        //url: carpeta_ec + "app_pago.aspx/FinalizarCompraPayU",
                                        url: carpeta_ec + "app_pago.aspx/" + controlador,
                                        type: "POST",
                                        contentType: "application/json; charset-utf-8",
                                        data: JSON.stringify(params),
                                        dataType: "json",
                                        success: function (result) {
                                            var respuesta = result["d"];
                                            //console.log(respuesta);
                                            estado_safety_pe = true;

                                            switch (respuesta.Item1) {
                                                case "ok":
                                                    if (respuesta.Item3 != "") {
                                                        window.location.href = respuesta.Item3;
                                                    } else {
                                                        window.location.href = carpeta_ec + "app_error.aspx?cod=" + respuesta.Item2;
                                                    }
                                                    break;
                                                case "00":
                                                case "Error":
                                                case "error":
                                                    window.location.href = carpeta_ec + "app_error.aspx?cod=" + respuesta.Item3;
                                                    break;
                                                case "valida_visanet":
                                                    location.reload();
                                                    break;
                                                default:
                                                    var mensaje = respuesta.Item2;
                                                    if (respuesta.Item1 == "puntos") {
                                                        mensaje = "Estimado Cliente, no tiene puntos suficientes para hacer su canje. Por favor reinicie su compra.";
                                                    }
                                                    //console.log('error', respuesta.Item2);
                                                    $("#messageEPasarela").html(mensaje);
                                                    $("#errorPasarela").show();
                                                    $(".se-pre-con").fadeOut("slow").hide();
                                                    $('html,body').animate({ scrollTop: $("#" + scroll_top_msj_error).offset().top - 140 }, 'slow');
                                                    //habilitarBoton("btnPagar");
                                                    $("#imgModal").hide();
                                                    $("#btnPagar").prop('disabled', '');
                                                    estado_safety_pe = false;
                                                    break;
                                            }
                                            countDown();
                                        },
                                        error: function (error) {
                                            console.log('error', error);
                                            $("#messageEPasarela").html("No se pudÃ³ completar la transacciÃ³n de su compra. Sus asientos solo permanecerÃ¡n reservados por unos minutos. Porfavor intente nuevamente");
                                            $("#errorPasarela").show();
                                            $(".se-pre-con").fadeOut("slow").hide();
                                            $('html,body').animate({ scrollTop: $("#" + scroll_top_msj_error).offset().top - 140 }, 'slow');
                                            //habilitarBoton("btnPagar");
                                            $("#imgModal").hide();
                                            $("#btnPagar").prop('disabled', '');
                                            countDown();
                                        }
                                    });
                                })
                                .catch(function (error) {
                                    var mensaje = "";
                                    if (error.includes("errorCode")) {
                                        mensaje = "No se pudÃ³ completar la transacciÃ³n de su compra. Sus asientos solo permanecerÃ¡n reservados por unos minutos. Por favor intente nuevamente";
                                        var array_error = JSON.parse(error)
                                        console.log(array_error);
                                    } else {
                                        mensaje = error;
                                    }

                                    $("#imgModal").hide();
                                    $(".se-pre-con").fadeOut("slow").hide();
                                    $("#btnPagar").prop('disabled', '');
                                    $("#messageEPasarela").html(mensaje);
                                    $("#errorPasarela").show();
                                    $('html,body').animate({ scrollTop: $("#" + scroll_top_msj_error).offset().top - 140 }, 'slow');
                                });
                        }

                    } else if ($("#safety").is(":checked")) {
                        var validacion = true;
                        if ($("#formularioPagoSafety").valid() == false || $("#terminos").is(":checked") == false) {
                            validacion = false;
                            //$('html,body').animate({ scrollTop: $("#" + scroll_top_msj_error).offset().top - 140 }, 'slow');
                            $('html,body').animate({ scrollTop: $("#formularioPagoSafety").offset().top }, 'slow');
                            $(".se-pre-con").fadeOut("slow").hide();
                            //habilitarBoton("btnPagar");
                            $("#imgModal").hide();
                            $("#btnPagar").prop('disabled', '');
                            return false;
                        }
                        if (validacion == true) {
                            timer.stop();
                            //var spfullname = trim($("#spName").val()) + " " + trim($("#spLastName").val());
                            var spfullname = trim($("#spfullname").val());
                            var params = {
                                safetyPay: {
                                    ExpirationTime: "120",
                                    ShopperDoc: $("#spdoc").val(),
                                    ShopperName: trim(spfullname),
                                    ShopperEmail: $("#spemail").val(),
                                    ShopperPhone: $("#spphone").val()
                                },
                                payer: {
                                    TipoDoc: $("#spdoc_type").val(),
                                    NumDoc: $("#spdoc").val(),
                                    Nombre: spfullname,
                                    Correo: $("#spemail").val(),
                                    Telefono: $("#spphone").val(),
                                    Direccion: ""
                                }
                            };

                            $.ajax({
                                url: carpeta_ec + "app_pago.aspx/EnviarCarritoSafety",
                                type: "POST",
                                contentType: "application/json; charset-utf-8",
                                data: JSON.stringify(params),
                                dataType: "json",
                                success: function (result) {
                                    var respuesta = result["d"];
                                    //console.log(respuesta);
                                    estado_safety_pe = true;
                                    switch (respuesta.Item1) {
                                        case "ok":
                                            if (respuesta.Item3 != "") {
                                                window.location.href = respuesta.Item3;
                                            } else {
                                                window.location.href = carpeta_ec + "app_error.aspx?cod=" + respuesta.Item2;
                                            }
                                            break;
                                        case "00":
                                        case "Error":
                                            window.location.href = carpeta_ec + "app_error.aspx?cod=" + respuesta.Item3;
                                            break;
                                        default:
                                            var mensaje = respuesta.Item2;
                                            if (respuesta.Item1 == "puntos") {
                                                mensaje = "Estimado Cliente, no tiene puntos suficientes para hacer su canje. Por favor reinicie su compra.";
                                            }
                                            //console.log('error', respuesta.Item2);
                                            //$("#messageEPasarela").html("No se pudÃ³ completar la transacciÃ³n con Safety. Sus asientos solo permanecerÃ¡n reservados por unos minutos. Porfavor intente nuevamente");
                                            $("#messageEPasarela").html(mensaje);
                                            $("#errorPasarela").show();
                                            $(".se-pre-con").fadeOut("slow").hide();
                                            $('html,body').animate({ scrollTop: $("#" + scroll_top_msj_error).offset().top - 140 }, 'slow');
                                            //habilitarBoton("btnPagar");
                                            $("#imgModal").hide();
                                            $("#btnPagar").prop('disabled', '');
                                            estado_safety_pe = false;
                                            break;
                                    }
                                    countDown();
                                },
                                error: function (error) {
                                    console.log('error', error);
                                    //$("#messageEPasarela").html("No se pudÃ³ realizar la conexiÃ³n con SafetyPay. Porfavor intente nuevamente");
                                    $("#messageEPasarela").html("No se pudÃ³ completar la transacciÃ³n de su compra. Sus asientos solo permanecerÃ¡n reservados por unos minutos. Porfavor intente nuevamente");
                                    $("#errorPasarela").show();
                                    $(".se-pre-con").fadeOut("slow").hide();
                                    $('html,body').animate({ scrollTop: $("#" + scroll_top_msj_error).offset().top - 140 }, 'slow');
                                    //habilitarBoton("btnPagar");
                                    $("#imgModal").hide();
                                    $("#btnPagar").prop('disabled', '');
                                    estado_safety_pe = false;
                                    countDown();
                                }
                            });
                        }
                    } else if ($("#pagoEfectivo").is(":checked")) {
                        var validacion = true;
                        if ($("#formularioPagoSafety").valid() == false || $("#terminos").is(":checked") == false) {
                            validacion = false;
                            //$('html,body').animate({ scrollTop: $("#" + scroll_top_msj_error).offset().top - 140 }, 'slow');
                            $('html,body').animate({ scrollTop: $("#formularioPagoSafety").offset().top }, 'slow');
                            $(".se-pre-con").fadeOut("slow").hide();
                            //habilitarBoton("btnPagar");
                            $("#imgModal").hide();
                            $("#btnPagar").prop('disabled', '');
                            return false;
                        }
                        if (validacion == true) {
                            timer.stop();
                            //var spfullname = trim($("#spName").val()) + " " + trim($("#spLastName").val());
                            var spfullname = trim($("#spfullname").val());
                            var params = {
                                payer: {
                                    TipoDoc: $("#spdoc_type").val(),
                                    NumDoc: $("#spdoc").val(),
                                    Nombre: spfullname,
                                    Correo: $("#spemail").val(),
                                    Telefono: $("#spphone").val(),
                                    Direccion: ""
                                }
                            };

                            $.ajax({
                                url: carpeta_ec + "app_pago.aspx/EnviarCarritoPagoEfectivo",
                                type: "POST",
                                contentType: "application/json; charset-utf-8",
                                data: JSON.stringify(params),
                                dataType: "json",
                                success: function (result) {
                                    var respuesta = result["d"];
                                    //console.log(respuesta);
                                    estado_safety_pe = true;
                                    switch (respuesta.Item1) {
                                        case "ok":
                                            if (respuesta.Item4 != "") {
                                                window.location.href = respuesta.Item4;
                                            } else {
                                                window.location.href = carpeta_ec + "app_error.aspx?cod=" + respuesta.Item3;
                                            }
                                            break;
                                        case "00":
                                        case "Error":
                                            window.location.href = carpeta_ec + "app_error.aspx?cod=" + respuesta.Item3;
                                            break;
                                        default:
                                            var mensaje = respuesta.Item2;
                                            if (respuesta.Item1 == "puntos") {
                                                mensaje = "Estimado Cliente, no tiene puntos suficientes para hacer su canje. Por favor reinicie su compra.";
                                            }
                                            //console.log('error', respuesta.Item2);
                                            //$("#messageEPasarela").html("No se pudÃ³ completar la transacciÃ³n con Safety. Sus asientos solo permanecerÃ¡n reservados por unos minutos. Porfavor intente nuevamente");
                                            $("#messageEPasarela").html(mensaje);
                                            $("#errorPasarela").show();
                                            $(".se-pre-con").fadeOut("slow").hide();
                                            $('html,body').animate({ scrollTop: $("#" + scroll_top_msj_error).offset().top - 140 }, 'slow');
                                            //habilitarBoton("btnPagar");
                                            $("#imgModal").hide();
                                            $("#btnPagar").prop('disabled', '');
                                            estado_safety_pe = false;
                                            break;
                                    }
                                    countDown();
                                },
                                error: function (error) {
                                    console.log('error', error);
                                    //$("#messageEPasarela").html("No se pudÃ³ realizar la conexiÃ³n con SafetyPay. Porfavor intente nuevamente");
                                    $("#messageEPasarela").html("No se pudÃ³ completar la transacciÃ³n de su compra. Sus asientos solo permanecerÃ¡n reservados por unos minutos. Porfavor intente nuevamente");
                                    $("#errorPasarela").show();
                                    $(".se-pre-con").fadeOut("slow").hide();
                                    $('html,body').animate({ scrollTop: $("#" + scroll_top_msj_error).offset().top - 140 }, 'slow');
                                    //habilitarBoton("btnPagar");
                                    $("#imgModal").hide();
                                    $("#btnPagar").prop('disabled', '');
                                    estado_safety_pe = false;
                                    countDown();
                                }
                            });
                        }
                    } else {
                        $(".se-pre-con").fadeOut("slow").hide();
                        //habilitarBoton("btnPagar");
                        $("#imgModal").hide();
                        $("#btnPagar").prop('disabled', '');
                        //$('html,body').animate({ scrollTop: $("#" + scroll_top_msj_error).offset().top - 140 }, 'slow');
                        //$('html,body').animate({ scrollTop: $("#msjTipoTarjeta").offset().top - 140 }, 'slow');
                        //console.log("Falta Seleccionar medio de pago");
                    }
                }

                function validarDatosCompra(params, controlador) {
                    var validar_datos = true;
                    var scroll_top_msj_error = "errorPasarela";
                    //var scroll_top_msj_error = "pagEfectivoMethod";
                    $(".se-pre-con").fadeOut("slow").show();
                    $("#btnPagar").prop('disabled', true);
                    if (controlador == "RegistrarDatosPagador") {
                        params.tipoTarjeta = params.visanet.TipoTarjeta;
                    }
                    $.ajax({
                        url: "app_pago.aspx/" + controlador,
                        type: "POST",
                        async: false,
                        contentType: "application/json; charset-utf-8",
                        data: JSON.stringify(params),
                        dataType: "json",
                        success: function (result) {
                            var respuesta = result["d"];
                            //console.log(respuesta);
                            estado_safety_pe = true;
                            var mensaje = respuesta.Item2;

                            if (!isEmpty(mensaje) && mensaje.toUpperCase().trim() != "OK") {
                                $("#messageEPasarela").html(mensaje);
                                $("#errorPasarela").show();
                                $(".se-pre-con").fadeOut("slow").hide();
                                $('html,body').animate({ scrollTop: $("#" + scroll_top_msj_error).offset().top - 140 }, 'slow');
                                //habilitarBoton("btnPagar");
                                $("#btnPagar").prop('disabled', '');
                                $("#imgModal").hide();
                                estado_safety_pe = false;
                                countDown();
                                validar_datos = false;
                            }
                        },
                        error: function (error) {
                            //console.log('error', error);
                            //$("#messageEPasarela").html("No se pudÃ³ realizar la conexiÃ³n con Visanet. Por favor intente nuevamente");
                            $("#messageEPasarela").html("No se pudÃ³ completar la transacciÃ³n de su compra. Sus asientos solo permanecerÃ¡n reservados por unos minutos. Por favor intente nuevamente");
                            $("#errorPasarela").show();
                            $(".se-pre-con").fadeOut("slow").hide();
                            $('html,body').animate({ scrollTop: $("#" + scroll_top_msj_error).offset().top - 140 }, 'slow');
                            //habilitarBoton("btnPagar");
                            $("#btnPagar").prop('disabled', '');
                            $("#imgModal").hide();
                            estado_safety_pe = false;
                            countDown();
                            validar_datos = false;
                        }
                    });
                    return validar_datos;
                }

                function verificarFormaPago(object) {
                    if (!$(object).is(':checked')) {
                        $("#msjTipoTarjeta").html('Seleccione un medio de pago').show();
                    } else {
                        $("#msjTipoTarjeta").html('').hide();
                    }
                    if (object.id == "tarjetaVisa") {
                        $("#divFormularioVisanet").show();
                        $("#txtTNombres").rules("add", {
                            required: true,
                            noSpace: true,
                            minlength: 1,
                            messages: {
                                required: "El nombre es obligatorio",
                                //maxlength: "No debe ingresar mÃ¡s de 150 caracteres"
                            }
                        });
                        $("#txtTApellidos").rules("add", {
                            required: true,
                            noSpace: true,
                            minlength: 1,
                            messages: {
                                required: "El apellido es obligatorio",
                                //maxlength: "No debe ingresar mÃ¡s de 150 caracteres"
                            }
                        });

                        $("#txtTCorreo").rules("add", {
                            required: true,
                            email: true,
                            //maxlength: 255
                            messages: {
                                required: "El email es requerido",
                                email: "Ingrese un correo vÃ¡lido",
                                //maxlength: "Solo puede ingresar hasta 255 digitos"
                            }
                        });

                        $("#txtTTelef").rules("add", {
                            required: true,
                            celular: true,
                            maxlength: 20,
                            messages: {
                                required: "El telefÃ³no es requerido",
                                celular: "Ingrese un nÃºmero vÃ¡lido",
                                maxlength: "Solo puede ingresar hasta 20 digitos"
                            }
                        });

                    } else {
                        limpiarCamposVisanet();
                    }
                }

                function limpiarCamposVisanet() {
                    $("#divFormularioVisanet").hide();
                    if (!isEmpty(cardNumber)) {
                        payform.resetData([cardNumber, cardExpiry, cardCvv]);
                    }
                    //$("#txtNumeroTarjeta").removeClass("input-danger");
                    //$("#msjNumeroTarjeta").html("").hide();
                    $("#txtNumeroTarjeta").data().tarjeta_bin = ""
                    $("#txtFechaVencimiento").removeClass("input-danger");
                    $("#msjFechaVencimiento").html("").hide();
                    $("#txtCvv").removeClass("input-danger");
                    $("#msjCvv").html("").hide();
                    $("#txtTNombres").val("").removeClass("input-danger").rules("remove");
                    $("#txtTApellidos").val("").removeClass("input-danger").rules("remove");
                    $("#txtTCorreo").val("").removeClass("input-danger").rules("remove");
                    $("#txtTTelef").val("").removeClass("input-danger").rules("remove");
                    $("#formularioPagoVisanet").valid();
                    if ($("#chkCopiarDatosPayer").is(":checked")) {
                        $("#chkCopiarDatosPayer").prop("checked", false);
                        $("#chkCopiarDatosPayer").click();
                    }
                }

                var codigoCampaÃ±a = "";
                function activarFormaPago(object) {
                    $("#msjTipoTarjeta").html('').hide();
                    if (object.id == "tabPagoTarjetas" && $("#formularioPagoSafety").valid() == false || $("#terminos").is(":checked") == false) {
                        setTimeout(function () {
                            $(object).parent().removeClass("active");
                            $("#formularioPago4").focus();
                        }, 500);
                        $("#msjTipoTarjeta").html('Para pagar con tarjeta, algunos campos son obligatorios').show();
                        return false;
                    }

                    if (!$(object).parent().hasClass("active")) {
                        //console.log(object.parentNode.className);
                        var optPagos = $("input[name='optradio']")
                        if (!isEmpty(optPagos)) {
                            for (var i = 0; i < optPagos.length; i++) {
                                $("#" + optPagos[i].id).prop("checked", false);
                            }
                        }
                        if (object.id == "tabPagoTarjetas") {
                            crearSesionVisanet();
                            $("#tarjetaVisa").click();
                        } else {
                            limpiarCamposVisanet();

                        }

                        if (!isEmpty($(object).data().activar_modal_campaÃ±a) && $(object).data().activar_modal_campaÃ±a == "1" && codigoCampaÃ±a != "BBVA") {
                            //$("#modalCampania").modal("show");
                            $(object).data().activar_modal_campaÃ±a = "0";
                        }
                    }
                    if ($("#errorPasarela").css("display") == "block") {
                        $("#messageEPasarela").html("");
                        $("#errorPasarela").hide();
                    }
                }

                var cardNumber, cardExpiry, cardCvv;
                function crearSesionVisanet() {
                    //console.log(configuration.sessionkey);
                    if (isEmpty(configuration.sessionkey)) {
                        var params = {
                            payer: {
                                TipoDoc: $("#spdoc_type").val(),
                                NumDoc: $("#spdoc").val(),
                                NombreCompleto: trim($("#spfullname").val()),
                                //Nombre: $("#spName").val(),
                                //ApPaterno: $("#spLastName").val(),
                                Correo: $("#spemail").val(),
                                Telefono: $("#spphone").val(),
                                Direccion: ""
                            },
                            visanet: {
                                TipoTarjeta: "",
                                Tarjeta: "",
                                TarjetaBin: (isEmpty($("#txtNumeroTarjeta").data().tarjeta_bin)) ? "" : $("#txtNumeroTarjeta").data().tarjeta_bin,
                                transactionId: "" //tokenVisa
                                //NumCuotas: isEmpty($("#txtNumCuotas").val()) ? "0" : $("#txtNumCuotas").val(),
                            },
                            canal: configuration.channel
                        }
                        $.ajax({
                            url: "app_pago.aspx/CrearSesionVisanet",
                            type: "POST",
                            contentType: "application/json; charset-utf-8",
                            data: JSON.stringify(params),
                            dataType: "json",
                            beforeSend: function () {
                                $("#imgModal").show();
                            },
                            success: function (result) {
                                setTimeout(function () {
                                    $("#imgModal").hide();
                                }, 4000);
                                var respuesta = result["d"];
                                //console.log(respuesta);
                                var mensaje = respuesta.Item2;

                                if (respuesta.Item1 != "0") {
                                    mensaje = "Hubo un error al generar el token de seguridad Visanet, por favor "
                                        + "<button type='button' class='btn btn-info' onclick='crearSesionVisanet();'>"
                                        + "<i class='fa fa-refresh'></i> click aquÃ­"
                                        + "</button> para volver a intentarlo."
                                        ;
                                }
                                if (respuesta.Item1 == "0" && respuesta.Item3 != "") {
                                    configuration.sessionkey = respuesta.Item3;
                                    configuration.purchasenumber = respuesta.Item5.Transaccion;
                                    configuration.amount = respuesta.Item5.MontoPay;
                                    payform.setConfiguration(configuration);
                                    //Crear controles de VISANET

                                    var elementStyles = {
                                        base: {
                                            color: '#666666',
                                            //fontWeight: 700,
                                            //fontFamily: "'Montserrat', sans-serif",
                                            fontFamily: "'Raleway',sans-serif",
                                            fontSize: '14px',
                                            fontSmoothing: 'antialiased',
                                            placeholder: {
                                                color: '#999999'
                                            },
                                            autofill: {
                                                color: '#e39f48',
                                            }
                                        },
                                        invalid: {
                                            color: '#E25950',
                                            '::placeholder': {
                                                color: '#FFCCA5',
                                            }
                                        }
                                    };

                                    cardNumber =
                                        payform.createElement(
                                            'card-number',
                                            {
                                                style: elementStyles,
                                                placeholder: 'NÃºmero de Tarjeta'
                                            },
                                            'txtNumeroTarjeta'
                                        );

                                    cardNumber.then(element => {
                                        element.on('bin', function (data) {
                                            //console.log(data);
                                            var data_bin = "";
                                            if (!isEmpty(data)) {
                                                data_bin = data;
                                            }
                                            $("#txtNumeroTarjeta").data().tarjeta_bin = data_bin;
                                        });
                                        element.on('change', function (data) {
                                            $(".se-pre-con").fadeOut("slow").hide();
                                            $("#btnPagar").prop('disabled', '');
                                            countDown();
                                            var mensaje = "";
                                            //console.log(data);
                                            if (!isEmpty(data) && !isEmpty(data[0].message)) {
                                                //console.log(data[0].message);
                                                data.forEach(function (item) {
                                                    if (!isEmpty(item.code) && (item.code == "invalid_number" || item.code.includes("number") || item.code.includes("invalid_paste"))) {
                                                        mensaje = item.message;
                                                    }
                                                });
                                            }
                                            if (!isEmpty(mensaje)) {
                                                $("#txtNumeroTarjeta").addClass("input-danger");
                                                $("#msjNumeroTarjeta").html(mensaje).show();
                                            } else {
                                                $("#txtNumeroTarjeta").removeClass("input-danger");
                                                $("#msjNumeroTarjeta").html("").hide();
                                            }
                                        });
                                        element.on('dcc', function (data) {
                                            //console.log(data);
                                        });
                                        element.on('installments', function (data) {
                                            //console.log(data);
                                            //NÂ° de cuotas
                                            var html = "";
                                            if (!isEmpty(data)) {
                                                for (var i = 0; i < data.length; i++) {
                                                    if (i == 0) {
                                                        html += "<label for='txtNumCuotas'>NÂ° de cuotas</label>"
                                                            + '<select id="txtNumCuotas" name="txtNumCuotas" class="custom-input">'
                                                            + "<option value='0'>Sin cuotas</option>"
                                                            + "<option>" + data[i] + "</option>"
                                                            ;
                                                    } else {
                                                        html += "<option>" + data[i] + "</option>";
                                                    }
                                                    if (i == (data.length - 1)) {
                                                        html += "</select>";
                                                    }
                                                }
                                            }
                                            $("#divNumCuotas").html(html);
                                        });
                                    });

                                    cardExpiry =
                                        payform.createElement(
                                            'card-expiry',
                                            {
                                                style: elementStyles,
                                                placeholder: 'MM/AA'
                                            },
                                            'txtFechaVencimiento'
                                        );

                                    cardExpiry.then(element => {
                                        element.on('change', function (data) {
                                            //console.log(data);
                                            var mensaje = "";
                                            if (!isEmpty(data) && !isEmpty(data[0].message)) {
                                                data.forEach(function (item) {
                                                    if (!isEmpty(item.code) && (item.code == "invalid_expiry" || item.code.includes("expiry"))) {
                                                        mensaje = item.message;
                                                    }
                                                });
                                            }
                                            if (!isEmpty(mensaje)) {
                                                $("#txtFechaVencimiento").addClass("input-danger");
                                                $("#msjFechaVencimiento").html(mensaje).show();
                                            } else {
                                                $("#txtFechaVencimiento").removeClass("input-danger");
                                                $("#msjFechaVencimiento").html("").hide();
                                            }
                                        })
                                    });

                                    cardCvv =
                                        payform.createElement(
                                            'card-cvc',
                                            {
                                                style: elementStyles,
                                                placeholder: 'CVV'
                                            },
                                            'txtCvv'
                                        );

                                    cardCvv.then(element => {
                                        //element.on('change', function (event) {
                                        element.on('change', function (data) {
                                            //console.log(data);
                                            var mensaje = "";
                                            if (!isEmpty(data) && !isEmpty(data[0].message)) {
                                                data.forEach(function (item) {
                                                    if (!isEmpty(item.code) && (item.code == "invalid_cvc" || item.code.includes("cvc"))) {
                                                        mensaje = item.message;
                                                    }
                                                });
                                            }
                                            if (!isEmpty(mensaje)) {
                                                $("#txtCvv").addClass("input-danger");
                                                $("#msjCvv").html(mensaje).show();
                                            } else {
                                                $("#txtCvv").removeClass("input-danger");
                                                $("#msjCvv").html("").hide();
                                            }
                                        })
                                    });

                                } else {
                                    $(".se-pre-visa").fadeIn("slow").hide();
                                    $("#messageEPasarela").html(mensaje);
                                    $("#errorPasarela").show();
                                }
                            },
                            error: function (error) {
                                //console.log('error', error);
                                var mensaje = "Hubo un error al generar el token de seguridad Visanet, por favor "
                                    + "<button type='button' class='btn btn-info' onclick='crearSesionVisanet();'>"
                                    + "<i class='fa fa-refresh'></i> click aquÃ­"
                                    + "</button> para volver a intentarlo."
                                    ;

                                $(".se-pre-visa").fadeIn("slow").hide();
                                $("#messageEPasarela").html(mensaje);
                                $("#errorPasarela").show();
                                $("#imgModal").hide();
                            }
                        });
                    }
                }

                function CopiarMisDatos(object) {
                    if (object.checked) {
                        //txtTNombres txtTCorreo
                        $("#txtTNombres").val($("#spfullname").val()).trigger("keyup");
                        $("#txtTCorreo").val($("#spemail").val()).trigger("keyup");
                        $("#txtTTelef").val($("#spphone").val()).trigger("keyup");
                    } else {
                        $("#txtTNombres").val("");
                        $("#txtTCorreo").val("");
                        $("#txtTTelef").val("");
                    }
                }

                function selectContacto(object) {
                    $("#spdoc_type").val("DNI").trigger("keyup");
                    $("#spdoc").val("");
                    $("#spfullname").val("");
                    $("#spphone").val("");
                    $("#spemail").val("");

                    var data = $(object).val();
                    var arr_data = data.split("~");
                    if (arr_data.length > 1) {
                        $("#spdoc_type").val(arr_data[0]).trigger("keyup");
                        $("#spdoc").val(arr_data[1]).trigger("keyup");
                    }
                    placeholder(object.id);
                }
            </script>

            <!-- JS includes -->
            <script defer="" src="../assets/ECommerce/js/jquery.validate.min.js"></script>
            <script defer="" src="../assets/ECommerce/js/additional-methods.js"></script>
            <script defer="" src="../js/ECommerce/timer.min.js?v=0.0.0.1"></script>

            <script defer="" src="../js/ECommerce/scripts_pago.js?v=0.0.0.0006"></script>

        </div>
        <!-- Fin Contenido -->

        <!-- Footer -->

        <!-- Fin Footer -->
    </div>


    <div id="modalCerrarSesion" class="modal fade" role="dialog" data-backdrop="static" data-keyboard="true">
        <div class="modal-dialog">
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-12 text-center">
                            <img class="imgcentrado" src="http://localhost:62960/imagenes/precarga.gif">
                            <h3><b>Cerrando sesiÃ³n...</b></h3>
                            <h4>Gracias por su visita</h4>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <!-- Modal Mensaje -->
    <div class="modal fade" id="modalMensaje" tabindex="-1" role="dialog" data-backdrop="true"
        aria-labelledby="modalMensajeTitulo">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">


                    <h4 class="modal-title" id="modalMensajeTitulo">Mensaje</h4>
                </div>
                <div class="modal-body modal-body-max-height" id="modalMensajeBody">

                </div>
                <div class="modal-footer">

                    <button type="button" class="btn btn-default color_blue" data-dismiss="modal"
                        style="background: unset; border: unset;">ACEPTAR</button>
                </div>
            </div>
        </div>
    </div>
    <!-- Fin Modal Mensaje -->

    <!-- Modal Cargando -->
    <div class="modal fade" id="modalCargando" tabindex="-1" role="dialog" data-backdrop="static" data-keyboard="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header" id="modalCargandoHeader" hidden="">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true" class="glyphicon glyphicon-remove"></span>
                    </button>
                    <h4 class="modal-title" id="modalCargandoTitulo">Mensaje</h4>
                </div>
                <div class="modal-body" id="modalCargandoBody">
                    <div class="row">
                        <div class="col-md-12 text-center">
                            <img id="modalCargandoLoading" class="imgcentrado"
                                src="http://localhost:62960/imagenes/precarga.gif">
                            <h3 id="spModalCargandoMsj" style="font-weight: bold;"></h3>
                        </div>
                    </div>
                </div>
                <div class="modal-footer" id="modalCargandoFooter" hidden="">
                    <button type="button" class="btn btn-primary" data-dismiss="modal">Aceptar</button>
                </div>
            </div>
        </div>
    </div>
    <!-- Fin Modal Cargando -->

    <!-- Modal PDF Viewer -->
    <div class="modal fade" id="modalPDFViewer" tabindex="-1" role="dialog" data-backdrop="static" data-keyboard="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-body modal-body-max-height" id="modalPDFViewerBody" style="padding: 0px;">
                    <div class="col-md-12 col-xs-12">
                        <div class="fixed-action-zoom_controls_pdf">
                            <button class="btn" onclick="ZoomPDFView('-')">
                                <i class="fa fa-minus text-info "></i>
                            </button>
                            <button class="btn" onclick="ZoomPDFView('+')">
                                <i class="fa fa-plus text-info"></i>
                            </button>
                        </div>
                    </div>
                    <div id="canvas_container" class=""
                        style="background: #333; text-align: center; border: solid 3px; overflow-y: auto;">
                        <canvas id="canvasPDFViewer"></canvas>
                    </div>
                </div>
                <div class="modal-footer">

                    <button type="button" class="btn btn-default color_blue" data-dismiss="modal"
                        style="background: unset; border: unset;">CERRAR</button>
                </div>
            </div>
        </div>
    </div>
    <!-- Fin Modal PDF Viewer -->



    <!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
    <script>
        $.widget.bridge('uibutton', $.ui.button);

        var meses_es = ["Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"];
        var meses_en = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
        var dias_es = ["Lunes", "Martes", "MiÃ©rcoles", "Jueves", "Viernes", "SÃ¡bado", "Domingo"];
        var dias_en = ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"];

        $(window).on("scroll", function () {
            var div_timer = $("#divTimer");
            if (div_timer.length > 0) {
                var scroll_timer = 40;
                if ($(window).scrollTop() > scroll_timer) {
                    $(div_timer[0]).css({
                        "position": "fixed",
                        "top": "0px",
                        "z-index": "9",
                        "background": "white",
                        "padding": "5px 0px",
                    });
                } else {
                    $(div_timer[0]).css({
                        "position": "",
                        "top": "",
                        "z-index": "",
                        "background": "",
                        "padding": "",
                    });
                }
            }

            var div_precio_pisos = $(".div_select_precios");
            var div_pasos_pas = $("#divPaso");
            if (div_pasos_pas.length > 0) {
                var scroll_timer = 40;
                if ($(window).scrollTop() > scroll_timer && div_precio_pisos.length == 0) {
                    $(div_pasos_pas[0]).css({
                        "position": "fixed",
                        "top": "0px",
                        "z-index": "8",
                        "background": "white",
                        "padding-bottom": "5px",
                        "padding-top": "5px",
                    });
                } else {
                    $(div_pasos_pas[0]).css({
                        "position": "",
                        "top": "",
                        "z-index": "",
                        "background": "",
                        "padding-bottom": "",
                        "padding-top": "",
                    });
                }
            }
        });

        function getFechaActual(formato, language, date) {
            var fecha = new Date();
            if (!isEmpty(date)) {
                fecha = new Date(date);
            }
            var mes_index = fecha.getMonth();
            var dia_index = (fecha.getDay() == 0 ? 7 : fecha.getDay());

            fecha.setMonth(fecha.getMonth() + 1);

            var dia = fecha.getDate();
            dia = replaceCero(dia, 2);

            var mes = fecha.getMonth();
            var anio = fecha.getFullYear();

            var hora = fecha.getHours();
            var min = fecha.getMinutes();
            var sec = fecha.getSeconds();

            var nombre_mes = "";
            var nombre_dia = "";

            if (language == "es") {
                nombre_dia = dias_es[dia_index - 1];
                nombre_mes = meses_es[mes_index];
            } else {
                nombre_dia = dias_en[dia_index - 1];
                nombre_mes = meses_en[mes_index];
            }

            var fecha_format = "";
            switch (formato) {
                //Fecha y tiempo simple
                case "dd":
                    fecha_format = dia;
                    break;
                case "mmm":
                    fecha_format = mes;
                    break;
                case "yy":
                    fecha_format = replaceCero(anio, 2);
                    break;
                case "yyyyy":
                    fecha_format = anio;
                    break;
                case "hh:mm":
                    fecha_format = replaceCero(hora, 2) + ":" + replaceCero(min, 2)
                    break;
                case "hh:mm:ss":
                    fecha_format = replaceCero(hora, 2) + ":" + replaceCero(min, 2) + ":" + replaceCero(sec, 2);
                    break;
                case "HH:mm":
                    var ampm = hora >= 12 ? 'pm' : 'am';
                    hora = hora % 12;
                    fecha_format = replaceCero(hora, 2) + ':' + replaceCero(min, 2) + ' ' + ampm;

                    break;
                case "HH:mm:ss":
                    var ampm = hora >= 12 ? 'pm' : 'am';
                    hora = hora % 12;
                    fecha_format = replaceCero(hora, 2) + ':' + replaceCero(min, 2) + ":" + replaceCero(sec, 2) + ' ' + ampm;

                    break;
                case "dd-mm-yy":
                    fecha_format = dia + "-" + replaceCero(mes, 2) + "-" + replaceCero(anio, 2);
                    break;
                case "dd-mm-yyyy":
                    fecha_format = dia + "-" + replaceCero(mes, 2) + "-" + anio;
                    break;
                case "yyyy-mm-dd":
                    fecha_format = anio + "-" + replaceCero(mes, 2) + "-" + dia;
                    break;
                case "dd/mm/yy":
                    fecha_format = dia + "/" + replaceCero(mes, 2) + "/" + replaceCero(anio, 2);
                    break;
                case "dd/mm/yyyy":
                    fecha_format = dia + "/" + replaceCero(mes, 2) + "/" + anio;
                    break;
                //Nombre meses
                case "DD-MM-YYYY":
                    fecha_format = dia + ' ' + nombre_mes + ' ' + anio;
                    break;
                case "DD-MM-YYYY de":
                    fecha_format = dia + ' de ' + nombre_mes + ' del ' + anio;
                    break;
                case "Dd":
                    fecha_format = nombre_dia.substr(0, 3);
                    break;
                case "DD":
                    fecha_format = nombre_dia;
                    break;
                case "Mm":
                    fecha_format = nombre_mes.substr(0, 3);
                    break;
                case "MM":
                    fecha_format = nombre_mes;
                    break;
                default:
                    fecha_format = dia + "/" + replaceCero(mes, 2) + "/" + anio;
                    break;
            }

            return fecha_format;
        }

        function replaceCero(num, size) {
            return ('000000000' + num).substr(-size);
        }

        function activarDropdownList(object, lblTextId) {
            var idOpciones = $(object).parent().parent();
            var input_padre = $(idOpciones).attr("aria-labelledby");
            idOpciones = idOpciones[0].id;
            var opciones = $("#" + idOpciones + " >li");
            var opId = $(object).data().op;

            for (var i = 0; i < opciones.length; i++) {
                if ($(opciones[i]).hasClass("active")) {
                    $(opciones[i]).removeClass("active");
                    $(opciones[i]).find("a").removeClass("bg_red");
                }
            }

            if (!isEmpty(opId)) {
                $("[data-op='" + opId + "']").addClass("bg_red");
                $("[data-op='" + opId + "']").parent().addClass("active");
                var accion = $(object).html();

                var valor_origen = $("[data-op='" + opId + "']").data().valor;
                $("#" + input_padre).data().valor = valor_origen;

                if (!isEmpty(accion)) {
                    $("#spNombreAccion_" + input_padre).html(accion);
                } else {
                    $("#spNombreAccion_" + input_padre).html("Seleccione");
                }

                if (!isEmpty(lblTextId)) {
                    $("#" + lblTextId).html(valor_origen.substr(0, 3));
                }
            }
        }

        function LlenarDropdownList(inputId, valor, texto, data, placeholder, opId, labelId) {
            //"txtOrigen", "Origen", "Mostrar", result.d, "Origen"
            document.getElementById("Op_" + inputId).innerHTML = "";
            labelId = (isEmpty(labelId)) ? "" : labelId;

            var html_op = '<a data-op="op00" data-valor="" href="javascript:void(0);" class="bg_red" onclick="activarDropdownList(this,\'' + labelId + '\');" style="white-space: normal;">';

            $("#Op_" + inputId).append('<li class="active">' + html_op + placeholder + "</a></li>");
            if (!isEmpty(data)) {
                $.each(data, function (index, x) {
                    html_op = '<a data-op="op' + opId + index + '" data-valor="' + x[valor] + '" href="javascript:void(0);" class="" onclick="activarDropdownList(this,\'' + labelId + '\');" style="white-space: normal;">';
                    $("#Op_" + inputId).append('<li class="">' + html_op + x[texto] + "</a></li>");
                });
            }
        }

        function LlenarListOD(inputId, valor, texto, data, placeholder, opId, labelId, NomCorto) {
            //"txtOrigen", "Origen", "Mostrar", result.d, "Origen"
            document.getElementById("Op_" + inputId).innerHTML = "";

            var html = '<table id="tb' + labelId + '" class="table table-hover" style="font-size: initial;">'
                + '<tbody>'
                ;

            if (!isEmpty(data)) {
                $.each(data, function (index, x) {
                    html += '<tr class="cursor_pointer" onclick="activarListaOD(this,\'' + labelId + '\');" data-op="op' + opId + index + '" data-valor="' + x[valor] + '" data-nom_corto="' + x[NomCorto] + '" data-texto="' + x[texto] + '">'
                        + '<td style="border-top: unset;">' + x[texto] + '</td>'
                        + '</tr>'
                        ;
                });
            }
            html += '</tbody>'
                + '</table>';
            $("#Op_" + inputId).html(html);
        }

        function abrirCalendario(id) {
            $('#' + id).click();
        }

        function ScrollTop(valor) {
            $("html,body").animate({ scrollTop: valor }, { duration: "slow" });
        }

        function reestructurarDT_Responsive(object, info, paging, lenghtMenu, searching) {
            var id = object.dataset.idtable;
            var colum_order = object.dataset.colum_order;
            var order_by = object.dataset.order_by;
            var no_visiblle = object.dataset.no_visiblle;
            var valor_visible = true;

            if (isEmpty(colum_order)) colum_order = "0";
            if (isEmpty(order_by)) order_by = "asc";
            if (!isEmpty(no_visiblle)) valor_visible = false;

            if (isEmpty(info)) info = false;
            if (isEmpty(paging)) paging = false;
            if (isEmpty(lenghtMenu)) lenghtMenu = false;
            if (isEmpty(searching)) searching = false;

            setTimeout(function () {
                $('#' + id).dataTable({
                    //"dom": '<"top"><"toolbar">rt<"bottom"<"col-md-3"l><"col-md-9"p><"col-md-12"i>><"clear">',
                    "dom": '<lf<t>ip>',
                    "lengthMenu": [[10, 25, 50, -1], [10, 25, 50, "Todos"]],
                    responsive: true,
                    //"order": [[1, "desc"]],
                    "order": [[colum_order, order_by]],
                    "language": dtLanguage,
                    "info": info,
                    "paging": paging,
                    "lenghtMenu": lenghtMenu,
                    "searching": searching,
                    columnDefs: [
                        {
                            searchable: false,
                            visible: valor_visible,
                            orderable: false,
                            targets: [0]
                        }
                    ],
                    "destroy": true
                });

                $("[type=search]").val("");
            }, 500);
        }

        var PDFView = {
            pdf: null,
            currentPage: 1,
            zoom: 1,
            pdfData_url: "", //url: https://www.google.com/file.pdf ; {data: atob(data64)} 

        }
        function cargarPDFViewer() {
            var loadingTask = pdfjsLib.getDocument(PDFView.pdfData_url);
            loadingTask.promise.then(function (pdf) {
                //console.log('PDF loaded');

                pdf.getPage(PDFView.currentPage).then(function (page) {
                    //console.log('Page loaded');
                    var viewport = page.getViewport({ scale: PDFView.zoom });

                    // Prepare canvas using PDF page dimensions
                    var canvas = document.getElementById('canvasPDFViewer');
                    var context = canvas.getContext('2d');
                    canvas.height = viewport.height;
                    canvas.width = viewport.width;

                    // Render PDF page into canvas context
                    var renderContext = {
                        canvasContext: context,
                        viewport: viewport
                    };
                    var renderTask = page.render(renderContext);
                    renderTask.promise.then(function () {
                        //console.log('Page rendered');
                    });
                });
            }, function (reason) {
                // PDF loading error
                //console.error(reason);
            });
        }

        function ZoomPDFView(valor) {
            if (valor == "+") {
                PDFView.zoom += 0.25;
                cargarPDFViewer();
            }
            if (valor == "-") {
                if (PDFView.zoom > 0.5) {
                    PDFView.zoom -= 0.25;
                    cargarPDFViewer();
                }
            }
        }

        function cargarComponentesMaster() {
            $(".select2").select2();
            SetNamePestaÃ±aTab();
            activarToolTips();
            $('.js-switch').bootstrapToggle();
        }

        function calculateAge(birthday) {
            var birthday_arr = birthday.split("/");
            var birthday_date = new Date(birthday_arr[2], birthday_arr[1] - 1, birthday_arr[0]);
            var ageDifMs = Date.now() - birthday_date.getTime();
            var ageDate = new Date(ageDifMs);
            return Math.abs(ageDate.getUTCFullYear() - 1970);
        }
    </script>

    <!-- daterangepicker -->
    <script src="http://localhost:62960/assets/bower_components/moment/min/moment.min.js"></script>
    <script src="http://localhost:62960/assets/bower_components/bootstrap-daterangepicker/daterangepicker.js"></script>
    <!-- DataTables -->
    <script src="http://localhost:62960/assets/bower_components/datatables.net/js/jquery.dataTables.min.js"></script>
    <script
        src="http://localhost:62960/assets/bower_components/datatables.net-bs/js/dataTables.bootstrap.min.js"></script>
    <!-- DataTables Responsive-->
    <script src="http://localhost:62960/assets/dataTables-responsive/js/dataTables.responsive.min.js"></script>
    <!-- datepicker -->
    <script
        src="http://localhost:62960/assets/bower_components/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js"></script>
    <script
        src="http://localhost:62960/assets/bower_components/bootstrap-datepicker/dist/locales/bootstrap-datepicker.es.min.js"></script>
    <!-- Bootstrap Datetime Picker -->
    <script
        src="http://localhost:62960/assets/bower_components/bootstrap-datetimepicker/js/bootstrap-datetimepicker.min.js"></script>
    <!-- bootstrap time picker -->
    <script src="http://localhost:62960/assets/plugins/timepicker/bootstrap-timepicker.min.js"></script>
    <!-- Switchery -->

    <script src="http://localhost:62960/assets/toggle/toggle.min.js?v=0.0.0.1"></script>
    <!-- Notificaciones -->
    <script src="http://localhost:62960/assets/bower_components/notifications/notify.min.js?v=0.0.0.1"></script>
    <script src="http://localhost:62960/assets/bower_components/notifications/notify-metro.js?v=0.0.0.1"></script>
    <script src="http://localhost:62960/assets/bower_components/notifications/notifications.js?v=0.0.0.1"></script>
    <!-- sweet alerts -->
    <script src="http://localhost:62960/assets/bower_components/sweet-alert/sweet-alert.min.js?v=0.0.0.1"></script>
    <!-- iCheck 1.0.1 -->
    <script src="http://localhost:62960/assets/plugins/iCheck/icheck.min.js"></script>
    <!-- Select 2 -->
    <script src="http://localhost:62960/assets/bower_components/select2/dist/js/select2.full.min.js"></script>

    <!-- InputMask -->
    <script src="http://localhost:62960/assets/plugins/input-mask/jquery.inputmask.js"></script>
    <script src="http://localhost:62960/assets/plugins/input-mask/jquery.inputmask.date.extensions.js"></script>
    <script src="http://localhost:62960/assets/plugins/input-mask/jquery.inputmask.extensions.js"></script>
    <!-- Bootstrap WYSIHTML5 -->

    <!-- Slimscroll -->
    <script src="http://localhost:62960/assets/bower_components/jquery-slimscroll/jquery.slimscroll.min.js"></script>
    <!-- FastClick -->
    <!--<script src="http://localhost:62960/assets/bower_components/fastclick/lib/fastclick.js"></script>-->
    <!-- AdminLTE App -->
    <script src="http://localhost:62960/assets/dist/js/adminlte.min.js"></script>
    <!-- footable -->
    <script src="http://localhost:62960/assets/footable/footable.min.js"></script>


    <!-- Funciones generales -->
    <script charset="us-ascii" src="http://localhost:62960/js/utils/utils.js?v0.0.0.001"></script>
    <script src="http://localhost:62960/js/utils/master_page.js?v=0.0.0.0002"></script>

    <!-- PDF VIEW JS -->
    <script src="http://localhost:62960/js/pdfjs-dist/build/pdf.js"></script>



</body>

</html>